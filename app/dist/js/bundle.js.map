{"version":3,"sources":["bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","console","log","document","window","index","element","querySelector","dHeight","wHeight","wScrollCurrent","wScrollBefore","wScrollDiff","hasElementClass","className","classList","contains","RegExp","test","removeElementClass","remove","replace","split","join","addEventListener","delay","fn","last","deferTimer","context","this","args","arguments","now","Date","clearTimeout","setTimeout","apply","throttle","body","offsetHeight","innerHeight","pageYOffset","add","addElementClass","form","getElementsByTagName","email","getElementById","error","event","validity","valid","innerHTML","value","preventDefault","popup","confirmSubmit"],"mappings":"CAAA,SAAUA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,IAAIS,YAAYb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAkD,IAAI,IAA1CL,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAAvb,EAA4ba,GAAG,SAAST,EAAQU,EAAOJ,GACvd,aAEAK,QAAQC,IAAI,sBAGZD,QAAQC,IADA,GAGP,SAAWC,EAAUC,EAAQC,GAG7B,IAGIC,EAAUH,EAASI,cAHN,WAKjB,IAAKD,EAAS,OAAO,EAErB,IAAIE,EAAU,EACVC,EAAU,EACVC,EAAiB,EACjBC,EAAgB,EAChBC,EAAc,EACdC,EAAkB,SAAyBP,EAASQ,GACvD,OAAOR,EAAQS,UAAYT,EAAQS,UAAUC,SAASF,GAAa,IAAIG,OAAO,QAAUH,EAAY,QAAS,MAAMI,KAAKZ,EAAQQ,YAK7HK,EAAqB,SAA4Bb,EAASQ,GAC7DR,EAAQS,UAAYT,EAAQS,UAAUK,OAAON,GAAaR,EAAQQ,UAAYR,EAAQQ,UAAUO,QAAQ,IAAIJ,OAAO,UAAYH,EAAUQ,MAAM,KAAKC,KAAK,KAAO,UAAW,MAAO,MAoBnLnB,EAAOoB,iBAAiB,SAlBT,SAAkBC,EAAOC,GACvC,IAAIC,EAAMC,EACV,OAAO,WACN,IAAIC,EAAUC,KACVC,EAAOC,UACPC,GAAO,IAAIC,KACXP,GAAQM,EAAMN,EAAOF,GACxBU,aAAaP,GACbA,EAAaQ,WAAW,WACvBT,EAAOM,EAAIP,EAAGW,MAAMR,EAASE,IAC3BN,KAEHE,EAAOM,EACPP,EAAGW,MAAMR,EAASE,KAKaO,CArCZ,IAqCsC,WAC3D9B,EAAUL,EAASoC,KAAKC,aACxB/B,EAAUL,EAAOqC,YACjB/B,EAAiBN,EAAOsC,YACxB9B,EAAcD,EAAgBD,EAE1BA,GAAkB,EACrBS,EAAmBb,EA7CD,kBA6CkCM,EAAc,GAAKC,EAAgBP,EA7CrE,kBA8ClBa,EAAmBb,EA9CD,kBA8CkCM,EAAc,IAE7DF,EAAiBD,GAAWD,GAAWK,EAAgBP,EAhD1C,kBAiDhBa,EAAmBb,EAjDH,kBAcE,SAAyBA,EAASQ,GACvDR,EAAQS,UAAYT,EAAQS,UAAU4B,IAAI7B,GAAaR,EAAQQ,WAAa,IAAMA,EAmC/E8B,CAAgBtC,EAlDA,mBAqDnBK,EAAgBD,KAzDjB,CA2DEP,SAAUC,QAEbH,QAAQC,IAAI,sBACZD,QAAQC,IAAI,YAEZE,OAAOoB,iBAAiB,OAAQ,WAE/B,IAAIqB,EAAO1C,SAAS2C,qBAAqB,QAAQ,GAC7CC,EAAQ5C,SAAS6C,eAAe,QAChCC,EAAQ9C,SAASI,cAAc,UACvBJ,SAASI,cAAc,UAEnCwC,EAAMvB,iBAAiB,QAAS,SAAU0B,GACrCH,EAAMI,SAASC,QAClBH,EAAMI,UAAY,GAClBJ,EAAMnC,UAAY,WAEjB,GAEH+B,EAAKrB,iBAAiB,SAAU,SAAU0B,GAEpCH,EAAMI,SAASC,MAIO,KAAhBL,EAAMO,OAChBL,EAAMI,UAAY,8BAClBJ,EAAMnC,UAAY,eAClBoC,EAAMK,oBASR,WACC,IAAIC,EAAQrD,SAAS6C,eAAe,WACpCQ,EAAMzC,UAAU4B,IAAI,QACpBP,WAAW,WACVoB,EAAMzC,UAAUK,OAAO,SACrB,MAZFqC,GACAV,EAAMO,MAAQ,GAEdJ,EAAMK,mBAXNN,EAAMI,UAAY,gCAClBJ,EAAMnC,UAAY,eAClBoC,EAAMK,oBAWL,GAUHtD,QAAQC,IAAI,qCAGF","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nconsole.log('Logging from Test1');\n\nvar a = 1;\nconsole.log(a);\n\n;(function (document, window, index) {\n\t'use strict';\n\n\tvar elSelector = '.header',\n\t    elClassHidden = 'header--hidden',\n\t    throttleTimeout = 500,\n\t    element = document.querySelector(elSelector);\n\n\tif (!element) return true;\n\n\tvar dHeight = 0,\n\t    wHeight = 0,\n\t    wScrollCurrent = 0,\n\t    wScrollBefore = 0,\n\t    wScrollDiff = 0,\n\t    hasElementClass = function hasElementClass(element, className) {\n\t\treturn element.classList ? element.classList.contains(className) : new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\n\t},\n\t    addElementClass = function addElementClass(element, className) {\n\t\telement.classList ? element.classList.add(className) : element.className += ' ' + className;\n\t},\n\t    removeElementClass = function removeElementClass(element, className) {\n\t\telement.classList ? element.classList.remove(className) : element.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n\t},\n\t    throttle = function throttle(delay, fn) {\n\t\tvar last, deferTimer;\n\t\treturn function () {\n\t\t\tvar context = this,\n\t\t\t    args = arguments,\n\t\t\t    now = +new Date();\n\t\t\tif (last && now < last + delay) {\n\t\t\t\tclearTimeout(deferTimer);\n\t\t\t\tdeferTimer = setTimeout(function () {\n\t\t\t\t\tlast = now;fn.apply(context, args);\n\t\t\t\t}, delay);\n\t\t\t} else {\n\t\t\t\tlast = now;\n\t\t\t\tfn.apply(context, args);\n\t\t\t}\n\t\t};\n\t};\n\n\twindow.addEventListener('scroll', throttle(throttleTimeout, function () {\n\t\tdHeight = document.body.offsetHeight;\n\t\twHeight = window.innerHeight;\n\t\twScrollCurrent = window.pageYOffset;\n\t\twScrollDiff = wScrollBefore - wScrollCurrent;\n\n\t\tif (wScrollCurrent <= 0) // scrolled to the very top; element sticks to the top\n\t\t\tremoveElementClass(element, elClassHidden);else if (wScrollDiff > 0 && hasElementClass(element, elClassHidden)) // scrolled up; element slides in\n\t\t\tremoveElementClass(element, elClassHidden);else if (wScrollDiff < 0) // scrolled down\n\t\t\t{\n\t\t\t\tif (wScrollCurrent + wHeight >= dHeight && hasElementClass(element, elClassHidden)) // scrolled to the very bottom; element slides in\n\t\t\t\t\tremoveElementClass(element, elClassHidden);else // scrolled down; element slides out\n\t\t\t\t\taddElementClass(element, elClassHidden);\n\t\t\t}\n\n\t\twScrollBefore = wScrollCurrent;\n\t}));\n})(document, window, 0);\n\nconsole.log('Logging from Test2');\nconsole.log('Working!');\n\nwindow.addEventListener('load', function () {\n\n\tvar form = document.getElementsByTagName('form')[0];\n\tvar email = document.getElementById('mail');\n\tvar error = document.querySelector('.error');\n\tvar close = document.querySelector('.close');\n\n\temail.addEventListener(\"input\", function (event) {\n\t\tif (email.validity.valid) {\n\t\t\terror.innerHTML = \"\";\n\t\t\terror.className = \"error\";\n\t\t}\n\t}, false);\n\n\tform.addEventListener(\"submit\", function (event) {\n\n\t\tif (!email.validity.valid) {\n\t\t\terror.innerHTML = \"bad email address, try again.\";\n\t\t\terror.className = \"error active\";\n\t\t\tevent.preventDefault();\n\t\t} else if (email.value === \"\") {\n\t\t\terror.innerHTML = \"empty form, enter an email.\";\n\t\t\terror.className = \"error active\";\n\t\t\tevent.preventDefault();\n\t\t} else {\n\t\t\tconfirmSubmit();\n\t\t\temail.value = \"\";\n\n\t\t\tevent.preventDefault();\n\t\t}\n\t}, false);\n\n\tfunction confirmSubmit() {\n\t\tvar popup = document.getElementById(\"myPopup\");\n\t\tpopup.classList.add(\"show\");\n\t\tsetTimeout(function () {\n\t\t\tpopup.classList.remove(\"show\");\n\t\t}, 3950);\n\t}\n\n\tconsole.log('All assets are loaded');\n});\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9jb25jYXQvYnVuZGxlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxRQUFRLEdBQVIsQ0FBWSxvQkFBWjs7QUFFQSxJQUFNLElBQUksQ0FBVjtBQUNBLFFBQVEsR0FBUixDQUFZLENBQVo7O0FBR0MsQ0FBRyxXQUFXLFFBQVgsRUFBcUIsTUFBckIsRUFBNkIsS0FBN0IsRUFBcUM7QUFDdkM7O0FBRUEsS0FBSSxhQUFhLFNBQWpCO0FBQUEsS0FDQyxnQkFBZ0IsZ0JBRGpCO0FBQUEsS0FFQyxrQkFBa0IsR0FGbkI7QUFBQSxLQUdDLFVBQVUsU0FBUyxhQUFULENBQXdCLFVBQXhCLENBSFg7O0FBS0EsS0FBSSxDQUFDLE9BQUwsRUFBZSxPQUFPLElBQVA7O0FBRWYsS0FBSSxVQUFVLENBQWQ7QUFBQSxLQUNDLFVBQVUsQ0FEWDtBQUFBLEtBRUMsaUJBQWlCLENBRmxCO0FBQUEsS0FHQyxnQkFBZ0IsQ0FIakI7QUFBQSxLQUlDLGNBQWMsQ0FKZjtBQUFBLEtBTUYsa0JBQW1CLFNBQW5CLGVBQW1CLENBQVUsT0FBVixFQUFtQixTQUFuQixFQUE4QjtBQUM5QyxTQUFPLFFBQVEsU0FBUixHQUFvQixRQUFRLFNBQVIsQ0FBa0IsUUFBbEIsQ0FBNEIsU0FBNUIsQ0FBcEIsR0FBOEQsSUFBSSxNQUFKLENBQVksVUFBVSxTQUFWLEdBQXNCLE9BQWxDLEVBQTJDLElBQTNDLEVBQWtELElBQWxELENBQXdELFFBQVEsU0FBaEUsQ0FBckU7QUFDRixFQVJDO0FBQUEsS0FVRixrQkFBbUIsU0FBbkIsZUFBbUIsQ0FBVSxPQUFWLEVBQW1CLFNBQW5CLEVBQThCO0FBQzlDLFVBQVEsU0FBUixHQUFvQixRQUFRLFNBQVIsQ0FBa0IsR0FBbEIsQ0FBdUIsU0FBdkIsQ0FBcEIsR0FBeUQsUUFBUSxTQUFSLElBQXFCLE1BQU0sU0FBcEY7QUFDRixFQVpDO0FB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QVUsS0FBVixFQUFpQjs7QUFFL0MsTUFBSSxDQUFDLE1BQU0sUUFBTixDQUFlLEtBQXBCLEVBQTJCO0FBQ3pCLFNBQU0sU0FBTixHQUFrQiwrQkFBbEI7QUFDQSxTQUFNLFNBQU4sR0FBa0IsY0FBbEI7QUFDQSxTQUFNLGNBQU47QUFDQyxHQUpILE1BS08sSUFBSSxNQUFNLEtBQU4sS0FBZ0IsRUFBcEIsRUFBeUI7QUFDOUIsU0FBTSxTQUFOLEdBQWtCLDZCQUFsQjtBQUNBLFNBQU0sU0FBTixHQUFrQixjQUFsQjtBQUNBLFNBQU0sY0FBTjtBQUNDLEdBSkksTUFLQTtBQUNMO0FBQ0EsU0FBTSxLQUFOLEdBQWEsRUFBYjs7QUFFQSxTQUFNLGNBQU47QUFDRDtBQUVGLEVBbkJELEVBbUJHLEtBbkJIOztBQXFCQSxVQUFTLGFBQVQsR0FBeUI7QUFDckIsTUFBSSxRQUFRLFNBQVMsY0FBVCxDQUF3QixTQUF4QixDQUFaO0FBQ0EsUUFBTSxTQUFOLENBQWdCLEdBQWhCLENBQW9CLE1BQXBCO0FBQ0EsYUFBVyxZQUFVO0FBQ3JCLFNBQU0sU0FBTixDQUFnQixNQUFoQixDQUF1QixNQUF2QjtBQUNDLEdBRkQsRUFFRyxJQUZIO0FBR0g7O0FBRUQsU0FBUSxHQUFSLENBQVksdUJBQVo7QUFDQyxDQTVDRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjb25zb2xlLmxvZygnTG9nZ2luZyBmcm9tIFRlc3QxJyk7XG5cbmNvbnN0IGEgPSAxO1xuY29uc29sZS5sb2coYSk7XG5cblxuXHQ7KCBmdW5jdGlvbiAoIGRvY3VtZW50LCB3aW5kb3csIGluZGV4ICkge1xuXHRcdCd1c2Ugc3RyaWN0JztcblxuXHRcdHZhciBlbFNlbGVjdG9yID0gJy5oZWFkZXInLFxuXHRcdFx0ZWxDbGFzc0hpZGRlblx0PSAnaGVhZGVyLS1oaWRkZW4nLFxuXHRcdFx0dGhyb3R0bGVUaW1lb3V0XHQ9IDUwMCxcblx0XHRcdGVsZW1lbnRcdD0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggZWxTZWxlY3RvciApO1xuXG5cdFx0aWYoICFlbGVtZW50ICkgcmV0dXJuIHRydWU7XG5cblx0XHR2YXIgZEhlaWdodFx0PSAwLFxuXHRcdFx0d0hlaWdodFx0PSAwLFxuXHRcdFx0d1Njcm9sbEN1cnJlbnQgPSAwLFxuXHRcdFx0d1Njcm9sbEJlZm9yZVx0PSAwLFxuXHRcdFx0d1Njcm9sbERpZmZcdD0gMCxcblxuaGFzRWxlbWVudENsYXNzXHRcdD0gZnVuY3Rpb24oIGVsZW1lbnQsIGNsYXNzTmFtZSApe1xuICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0ID8gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoIGNsYXNzTmFtZSApIDogbmV3IFJlZ0V4cCggJyhefCApJyArIGNsYXNzTmFtZSArICcoIHwkKScsICdnaScgKS50ZXN0KCBlbGVtZW50LmNsYXNzTmFtZSApO1xufSxcblxuYWRkRWxlbWVudENsYXNzXHRcdD0gZnVuY3Rpb24oIGVsZW1lbnQsIGNsYXNzTmFtZSApe1xuICAgZWxlbWVudC5jbGFzc0xpc3QgPyBlbGVtZW50LmNsYXNzTGlzdC5hZGQoIGNsYXNzTmFtZSApIDogZWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xufSxcblxucmVtb3ZlRWxlbWVudENsYXNzXHQ9IGZ1bmN0aW9uKCBlbGVtZW50LCBjbGFzc05hbWUgKXtcbiAgIGVsZW1lbnQuY2xhc3NMaXN0ID8gZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCBjbGFzc05hbWUgKSA6IGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSggbmV3IFJlZ0V4cCggJyhefFxcXFxiKScgKyBjbGFzc05hbWUuc3BsaXQoICcgJyApLmpvaW4oICd8JyApICsgJyhcXFxcYnwkKScsICdnaScgKSwgJyAnICk7XG59LFxuXG5cdFx0XHR0aHJvdHRsZSA9IGZ1bmN0aW9uKCBkZWxheSwgZm4gKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgbGFzdCwgZGVmZXJUaW1lcjtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHZhciBjb250ZXh0ID0gdGhpcywgYXJncyA9IGFyZ3VtZW50cywgbm93ID0gK25ldyBEYXRlO1xuXHRcdFx0XHRcdGlmKCBsYXN0ICYmIG5vdyA8IGxhc3QgKyBkZWxheSApXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KCBkZWZlclRpbWVyICk7XG5cdFx0XHRcdFx0XHRkZWZlclRpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXsgbGFzdCA9IG5vdzsgZm4uYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTsgfSwgZGVsYXkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGxhc3QgPSBub3c7XG5cdFx0XHRcdFx0XHRmbi5hcHBseSggY29udGV4dCwgYXJncyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIHRocm90dGxlKCB0aHJvdHRsZVRpbWVvdXQsIGZ1bmN0aW9uKClcblx0XHR7XG5cdFx0XHRkSGVpZ2h0XHRcdFx0PSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcblx0XHRcdHdIZWlnaHRcdFx0XHQ9IHdpbmRvdy5pbm5lckhlaWdodDtcblx0XHRcdHdTY3JvbGxDdXJyZW50XHQ9IHdpbmRvdy5wYWdlWU9mZnNldDtcblx0XHRcdHdTY3JvbGxEaWZmXHRcdD0gd1Njcm9sbEJlZm9yZSAtIHdTY3JvbGxDdXJyZW50O1xuXG5cdFx0XHRpZiggd1Njcm9sbEN1cnJlbnQgPD0gMCApIC8vIHNjcm9sbGVkIHRvIHRoZSB2ZXJ5IHRvcDsgZWxlbWVudCBzdGlja3MgdG8gdGhlIHRvcFxuXHRcdFx0XHRyZW1vdmVFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKTtcblxuXHRcdFx0ZWxzZSBpZiggd1Njcm9sbERpZmYgPiAwICYmIGhhc0VsZW1lbnRDbGFzcyggZWxlbWVudCwgZWxDbGFzc0hpZGRlbiApICkgLy8gc2Nyb2xsZWQgdXA7IGVsZW1lbnQgc2xpZGVzIGluXG5cdFx0XHRcdHJlbW92ZUVsZW1lbnRDbGFzcyggZWxlbWVudCwgZWxDbGFzc0hpZGRlbiApO1xuXG5cdFx0XHRlbHNlIGlmKCB3U2Nyb2xsRGlmZiA8IDAgKSAvLyBzY3JvbGxlZCBkb3duXG5cdFx0XHR7XG5cdFx0XHRcdGlmKCB3U2Nyb2xsQ3VycmVudCArIHdIZWlnaHQgPj0gZEhlaWdodCAmJiBoYXNFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKSApIC8vIHNjcm9sbGVkIHRvIHRoZSB2ZXJ5IGJvdHRvbTsgZWxlbWVudCBzbGlkZXMgaW5cblx0XHRcdFx0XHRyZW1vdmVFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKTtcblxuXHRcdFx0XHRlbHNlIC8vIHNjcm9sbGVkIGRvd247IGVsZW1lbnQgc2xpZGVzIG91dFxuXHRcdFx0XHRcdGFkZEVsZW1lbnRDbGFzcyggZWxlbWVudCwgZWxDbGFzc0hpZGRlbiApO1xuXHRcdFx0fVxuXG5cdFx0XHR3U2Nyb2xsQmVmb3JlID0gd1Njcm9sbEN1cnJlbnQ7XG5cdFx0fSkpO1xuXG5cdH0oIGRvY3VtZW50LCB3aW5kb3csIDAgKSk7XG5cbmNvbnNvbGUubG9nKCdMb2dnaW5nIGZyb20gVGVzdDInKTtcbmNvbnNvbGUubG9nKCdXb3JraW5nIScpO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkge1xuXG52YXIgZm9ybSAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZm9ybScpWzBdO1xudmFyIGVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haWwnKTtcbnZhciBlcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvcicpO1xudmFyIGNsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlJyk7XG5cbmVtYWlsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgaWYgKGVtYWlsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgZXJyb3IuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBlcnJvci5jbGFzc05hbWUgPSBcImVycm9yXCI7XG4gIH1cbn0sIGZhbHNlKTtcblxuZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldmVudCkge1xuXG4gIGlmICghZW1haWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICBlcnJvci5pbm5lckhUTUwgPSBcImJhZCBlbWFpbCBhZGRyZXNzLCB0cnkgYWdhaW4uXCI7XG4gICAgZXJyb3IuY2xhc3NOYW1lID0gXCJlcnJvciBhY3RpdmVcIjtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBlbHNlIGlmKCBlbWFpbC52YWx1ZSA9PT0gXCJcIiApIHtcbiAgICBlcnJvci5pbm5lckhUTUwgPSBcImVtcHR5IGZvcm0sIGVudGVyIGFuIGVtYWlsLlwiO1xuICAgIGVycm9yLmNsYXNzTmFtZSA9IFwiZXJyb3IgYWN0aXZlXCI7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgY29uZmlybVN1Ym1pdCgpO1xuICAgIGVtYWlsLnZhbHVlID1cIlwiO1xuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG59LCBmYWxzZSk7XG5cbmZ1bmN0aW9uIGNvbmZpcm1TdWJtaXQoKSB7XG4gICAgdmFyIHBvcHVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteVBvcHVwXCIpO1xuICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICB9LCAzOTUwKTtcbn1cblxuY29uc29sZS5sb2coJ0FsbCBhc3NldHMgYXJlIGxvYWRlZCcpXG59KVxuIl19\n"]}