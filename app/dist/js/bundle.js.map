{"version":3,"sources":["bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","toggleModal","modal","classList","toggle","toggleLike","element","this","contains","remove","add","console","log","$","document","ready","not","click","event","location","pathname","replace","hostname","target","hash","slice","preventDefault","animate","scrollTop","offset","top","$target","focus","is","attr","window","index","querySelector","dHeight","wHeight","wScrollCurrent","wScrollBefore","wScrollDiff","hasElementClass","className","RegExp","test","removeElementClass","split","join","addEventListener","delay","fn","last","deferTimer","context","args","arguments","now","Date","clearTimeout","setTimeout","apply","throttle","body","offsetHeight","innerHeight","pageYOffset","addElementClass","submit","getElementById","randAmount","Math","random","toFixed","fromValue","value","toValue","adultValue","childValue","innerHTML","adultGuest","childGuest","guests","trigger","closeButton","popup","confirmSubmit","querySelectorAll","Array","prototype","forEach","onclick"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nconsole.log('Logging from library.js');\n\n$(document).ready(function () {\n\n  // Select all links with hashes\n  $('a[href*=\"#\"]')\n  // Remove links that don't actually link to anything\n  .not('[href=\"#\"]').not('[href=\"#0\"]').click(function (event) {\n    // On-page links\n    if (location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') && location.hostname == this.hostname) {\n      // Figure out element to scroll to\n      var target = $(this.hash);\n      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n      // Does a scroll target exist?\n      if (target.length) {\n        // Only prevent default if animation is actually gonna happen\n        event.preventDefault();\n        $('html, body').animate({\n          scrollTop: target.offset().top\n        }, 1000, function () {\n          // Callback after animation\n          // Must change focus!\n          var $target = $(target);\n          $target.focus();\n          if ($target.is(\":focus\")) {\n            // Checking if the target was focused\n            return false;\n          } else {\n            $target.attr('tabindex', '-1'); // Adding tabindex for elements not focusable\n            $target.focus(); // Set focus again\n          };\n        });\n      }\n    }\n  });\n});\n\n;(function (document, window, index) {\n  'use strict';\n\n  var elSelector = '.header',\n      elClassHidden = 'header--hidden',\n      throttleTimeout = 500,\n      element = document.querySelector(elSelector);\n\n  if (!element) return true;\n\n  var dHeight = 0,\n      wHeight = 0,\n      wScrollCurrent = 0,\n      wScrollBefore = 0,\n      wScrollDiff = 0,\n      hasElementClass = function hasElementClass(element, className) {\n    return element.classList ? element.classList.contains(className) : new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\n  },\n      addElementClass = function addElementClass(element, className) {\n    element.classList ? element.classList.add(className) : element.className += ' ' + className;\n  },\n      removeElementClass = function removeElementClass(element, className) {\n    element.classList ? element.classList.remove(className) : element.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n  },\n      throttle = function throttle(delay, fn) {\n    var last, deferTimer;\n    return function () {\n      var context = this,\n          args = arguments,\n          now = +new Date();\n      if (last && now < last + delay) {\n        clearTimeout(deferTimer);\n        deferTimer = setTimeout(function () {\n          last = now;fn.apply(context, args);\n        }, delay);\n      } else {\n        last = now;\n        fn.apply(context, args);\n      }\n    };\n  };\n\n  window.addEventListener('scroll', throttle(throttleTimeout, function () {\n    dHeight = document.body.offsetHeight;\n    wHeight = window.innerHeight;\n    wScrollCurrent = window.pageYOffset;\n    wScrollDiff = wScrollBefore - wScrollCurrent;\n\n    if (wScrollCurrent <= 0) // scrolled to the very top; element sticks to the top\n      removeElementClass(element, elClassHidden);else if (wScrollDiff > 0 && hasElementClass(element, elClassHidden)) // scrolled up; element slides in\n      removeElementClass(element, elClassHidden);else if (wScrollDiff < 0) // scrolled down\n      {\n        if (wScrollCurrent + wHeight >= dHeight && hasElementClass(element, elClassHidden)) // scrolled to the very bottom; element slides in\n          removeElementClass(element, elClassHidden);else // scrolled down; element slides out\n          addElementClass(element, elClassHidden);\n      }\n\n    wScrollBefore = wScrollCurrent;\n  }));\n})(document, window, 0);\n\n// booking reservation\nvar submit = document.getElementById('f2');\nvar from = document.getElementById(\"from\");\nvar to = document.getElementById(\"to\");\nvar adult = document.getElementById(\"book-adult\");\nvar child = document.getElementById(\"book-child\");\n\n// amount total dummy data via rand#\nfunction getRandAmount() {\n  var min = 325,\n      max = 5000;\n  return (Math.random() * (max - min + 1) + min).toFixed(2);\n}\nvar randAmount = getRandAmount();\n\n// book now button\nsubmit.addEventListener(\"click\", function (e) {\n  e.preventDefault();\n  var fromValue = document.getElementById(\"from\").value;\n  var toValue = document.getElementById(\"to\").value;\n  var adultValue = document.getElementById(\"book-adult\").value;\n  var childValue = document.getElementById(\"book-child\").value;\n\n  // handle date input\n  var dateFrom = document.getElementById(\"bookFromDate\");\n  dateFrom.innerHTML = 'From ' + fromValue;\n  var dateTo = document.getElementById(\"bookToDate\");\n  dateTo.innerHTML = 'To  ' + toValue;\n\n  // handle guest input\n  var adultGuest = document.getElementById(\"bookAdult\");\n  var childGuest = document.getElementById(\"bookChild\");\n  adultValue >= \"1\" ? adultGuest.innerHTML = adultValue + ' Adult Guest' : guests.innerHTML = adultValue + ' Adult Guests';\n  childValue === \"0\" ? childGuest.innerHTML = \"\" : childValue === \"1\" ? childGuest.innerHTML = childValue + ' Child Guest' : childGuest.innerHTML = childValue + ' Child Guests';\n\n  // handle amount\n  var amount = document.getElementById(\"book-amount\");\n  amount.innerHTML = '$' + randAmount;\n});\n\n// modal\nvar modal = document.querySelector(\".confirm-modal\");\nvar trigger = document.querySelector(\".trigger-modal\");\nvar closeButton = document.querySelector(\".confirm-modal__close\");\n\nfunction toggleModal() {\n  modal.classList.toggle(\"show-modal\");\n}\n\nfunction windowOnClick(event) {\n  if (event.target === modal) {\n    toggleModal();\n  }\n}\n\ntrigger.addEventListener(\"click\", toggleModal);\ncloseButton.addEventListener(\"click\", toggleModal);\nwindow.addEventListener(\"click\", windowOnClick);\n\n// handle popup\nvar confirmPopUp = document.getElementById(\"confirmPopUp\");\nconfirmPopUp.addEventListener(\"click\", function (e) {\n\n  confirmSubmit();\n  e.preventDefault();\n}, false);\n\nfunction confirmSubmit() {\n  var popup = document.getElementById(\"myPopup\");\n  popup.classList.add(\"show\");\n  setTimeout(function () {\n    popup.classList.remove(\"show\");\n    toggleModal();\n  }, 3950);\n}\n\n// toggle review likes\nvar btnParent = document.querySelector('div.review__user-btn');\nvar btns = document.querySelectorAll('.review__user-like');\nvar btn = document.querySelector(\".review__user-like\");\n\nArray.prototype.forEach.call(document.querySelectorAll(\".review__user-like\"), function (element) {\n  element.onclick = toggleLike;\n});\n\nfunction toggleLike(element) {\n  element = this;\n\n  if (element.classList.contains(\"liked\")) {\n    element.classList.remove(\"liked\");\n  } else {\n    element.classList.add(\"liked\");\n  }\n}\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9jb25jYXQvYnVuZGxlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxRQUFRLEdBQVIsQ0FBWSx5QkFBWjs7QUFFQSxFQUFFLFFBQUYsRUFBWSxLQUFaLENBQWtCLFlBQVU7O0FBRzVCO0FBQ0EsSUFBRSxjQUFGO0FBQ0U7QUFERixHQUVHLEdBRkgsQ0FFTyxZQUZQLEVBR0csR0FISCxDQUdPLGFBSFAsRUFJRyxLQUpILENBSVMsVUFBUyxLQUFULEVBQWdCO0FBQ3JCO0FBQ0EsUUFDRSxTQUFTLFFBQVQsQ0FBa0IsT0FBbEIsQ0FBMEIsS0FBMUIsRUFBaUMsRUFBakMsS0FBd0MsS0FBSyxRQUFMLENBQWMsT0FBZCxDQUFzQixLQUF0QixFQUE2QixFQUE3QixDQUF4QyxJQUVBLFNBQVMsUUFBVCxJQUFxQixLQUFLLFFBSDVCLEVBSUU7QUFDQTtBQUNBLFVBQUksU0FBUyxFQUFFLEtBQUssSUFBUCxDQUFiO0FBQ0EsZUFBUyxPQUFPLE1BQVAsR0FBZ0IsTUFBaEIsR0FBeUIsRUFBRSxXQUFXLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBZ0IsQ0FBaEIsQ0FBWCxHQUFnQyxHQUFsQyxDQUFsQztBQUNBO0FBQ0EsVUFBSSxPQUFPLE1BQVgsRUFBbUI7QUFDakI7QUFDQSxjQUFNLGNBQU47QUFDQSxVQUFFLFlBQUYsRUFBZ0IsT0FBaEIsQ0FBd0I7QUFDdEIscUJBQVcsT0FBTyxNQUFQLEdBQWdCO0FBREwsU0FBeEIsRUFFRyxJQUZILEVBRVMsWUFBVztBQUNsQjtBQUNBO0FBQ0EsY0FBSSxVQUFVLEVBQUUsTUFBRixDQUFkO0FBQ0Esa0JBQVEsS0FBUjtBQUNBLGNBQUksUUFBUSxFQUFSLENBQVcsUUFBWCxDQUFKLEVBQTBCO0FBQUU7QUFDMUIsbUJBQU8sS0FBUDtBQUNELFdBRkQsTUFFTztBQUNMLG9CQUFRLElBQVIsQ0FBYSxVQUFiLEVBQXdCLElBQXhCLEVBREssQ0FDMEI7QUFDL0Isb0JBQVEsS0FBUixHQUZLLENBRVk7QUFDbEI7QUFDRixTQWJEO0FBY0Q7QUFDRjtBQUNGLEdBbENIO0FBb0NDLENBeENEOztBQTJDQyxDQUFHLFdBQVcsUUFBWCxFQUFxQixNQUFyQixFQUE2QixLQUE3QixFQUFxQztBQUN2Qzs7QUFFQSxNQUFJLGFBQWEsU0FBakI7QUFBQSxNQUNDLGdCQUFnQixnQkFEakI7QUFBQSxNQUVDLGtCQUFrQixHQUZuQjtBQUFBLE1BR0MsVUFBVSxTQUFTLGFBQVQsQ0FBd0IsVUFBeEIsQ0FIWDs7QUFLQSxNQUFJLENBQUMsT0FBTCxFQUFlLE9BQU8sSUFBUDs7QUFFZixNQUFJLFVBQVUsQ0FBZDtBQUFBLE1BQ0MsVUFBVSxDQURYO0FBQUEsTUFFQyxpQkFBaUIsQ0FGbEI7QUFBQSxNQUdDLGdCQUFnQixDQUhqQjtBQUFBLE1BSUMsY0FBYyxDQUpmO0FBQUEsTUFNRixrQkFBbUIsU0FBbkIsZUFBbUIsQ0FBVSxPQUFWLEVBQW1CLFNBQW5CLEVBQThCO0FBQzlDLFdBQU8sUUFBUSxTQUFSLEdBQW9CLFFBQVEsU0FBUixDQUFrQixRQUFsQixDQUE0QixTQUE1QixDQUFwQixHQUE4RCxJQUFJLE1BQUosQ0FBWSxVQUFVLFNBQVYsR0FBc0IsT0FBbEMsRUFBMkMsSUFBM0MsRUFBa0QsSUFBbEQsQ0FBd0QsUUFBUSxTQUFoRSxDQUFyRTtBQUNGLEdBUkM7QUFBQSxNQVVGLGtCQUFtQixTQUFuQixlQUFtQixDQUFVLE9BQVYsRUFBbUIsU0FBbkIsRUFBOEI7QUFDOUMsWUFBUSxTQUFSLEdBQW9CLFFBQVEsU0FBUixDQUFrQixHQUFsQixDQUF1QixTQUF2QixDQUFwQixHQUF5RCxRQUFRLFNBQVIsSUFBcUIsTUFBTSxTQUFwRjtBQUNGLEdBWkM7QUFBQSxNQWNGLHFCQUFxQixTQUFyQixrQkFBcUIsQ0FBVSxPQUFWLEVBQW1CLFNBQW5CLEVBQThCO0FBQ2hELFlBQVEsU0FBUixHQUFvQixRQUFRLFNBQVIsQ0FBa0IsTUFBbEIsQ0FBMEIsU0FBMUIsQ0FBcEIsR0FBNEQsUUFBUSxTQUFSLEdBQW9CLFFBQVEsU0FBUixDQUFrQixPQUFsQixDQUEyQixJQUFJLE1BQUosQ0FBWSxZQUFZLFVBQVUsS0FBVixDQUFpQixHQUFqQixFQUF1QixJQUF2QixDQUE2QixHQUE3QixDQUFaLEdBQWlELFNBQTdELEVBQXdFLElBQXhFLENBQTNCLEVBQTJHLEdBQTNHLENBQWhGO0FBQ0YsR0FoQkM7QUFBQSxNQWtCQyxXQUFXLFNBQVgsUUFBVyxDQUFVLEtBQVYsRUFBaUIsRUFBakIsRUFDWDtBQUNDLFFBQUksSUFBSixFQUFVLFVBQVY7QUFDQSxXQUFPLFlBQ1A7QUFDQyxVQUFJLFVBQVUsSUFBZDtBQUFBLFVBQW9CLE9BQU8sU0FBM0I7QUFBQSxVQUFzQyxNQUFNLENBQUMsSUFBSSxJQUFKLEVBQTdDO0FBQ0EsVUFBSSxRQUFRLE1BQU0sT0FBTyxLQUF6QixFQUNBO0FBQ0MscUJBQWMsVUFBZDtBQUNBLHFCQUFhLFdBQVksWUFBVTtBQUFFLGlCQUFPLEdBQVAsQ0FBWSxHQUFHLEtBQUgsQ0FBVSxPQUFWLEVBQW1CLElBQW5CO0FBQTRCLFNBQWhFLEVBQWtFLEtBQWxFLENBQWI7QUFDQSxPQUpELE1BTUE7QUFDQyxlQUFPLEdBQVA7QUFDQSxXQUFHLEtBQUgsQ0FBVSxPQUFWLEVBQW1CLElBQW5CO0FBQ0E7QUFDRCxLQWJEO0FBY0EsR0FuQ0Y7O0FBcUNBLFNBQU8sZ0JBQVAsQ0FBeUIsUUFBekIsRUFBbUMsU0FBVSxlQUFWLEVBQTJCLFlBQzlEO0FBQ0MsY0FBWSxTQUFTLElBQVQsQ0FBYyxZQUExQjtBQUNBLGNBQVksT0FBTyxXQUFuQjtBQUNBLHFCQUFpQixPQUFPLFdBQXhCO0FBQ0Esa0JBQWUsZ0JBQWdCLGNBQS9COztBQUVBLFFBQUksa0JBQWtCLENBQXRCLEVBQTBCO0FBQ3pCLHlCQUFvQixPQUFwQixFQUE2QixhQUE3QixFQURELEtBR0ssSUFBSSxjQUFjLENBQWQsSUFBbUIsZ0JBQWlCLE9BQWpCLEVBQTBCLGFBQTFCLENBQXZCLEVBQW1FO0FBQ3ZFLHlCQUFvQixPQUFwQixFQUE2QixhQUE3QixFQURJLEtBR0EsSUFBSSxjQUFjLENBQWxCLEVBQXNCO0FBQzNCO0FBQ0MsWUFBSSxpQkFBaUIsT0FBakIsSUFBNEIsT0FBNUIsSUFBdUMsZ0JBQWlCLE9BQWpCLEVBQTBCLGFBQTFCLENBQTNDLEVBQXVGO0FBQ3RGLDZCQUFvQixPQUFwQixFQUE2QixhQUE3QixFQURELEtBR0s7QUFDSiwwQkFBaUIsT0FBakIsRUFBMEIsYUFBMUI7QUFDRDs7QUFFRCxvQkFBZ0IsY0FBaEI7QUFDQSxHQXZCa0MsQ0FBbkM7QUF5QkEsQ0F4RUUsRUF3RUEsUUF4RUEsRUF3RVUsTUF4RVYsRUF3RWtCLENBeEVsQixDQUFGOztBQTJFRjtBQUNBLElBQU0sU0FBUyxTQUFTLGNBQVQsQ0FBd0IsSUFBeEIsQ0FBZjtBQUNBLElBQU0sT0FBTyxTQUFTLGNBQVQsQ0FBd0IsTUFBeEIsQ0FBYjtBQUNBLElBQU0sS0FBSyxTQUFTLGNBQVQsQ0FBd0IsSUFBeEIsQ0FBWDtBQUNBLElBQU0sUUFBUSxTQUFTLGNBQVQsQ0FBd0IsWUFBeEIsQ0FBZDtBQUNBLElBQU0sUUFBUSxTQUFTLGNBQVQsQ0FBd0IsWUFBeEIsQ0FBZDs7QUFFQTtBQUNFLFNBQVMsYUFBVCxHQUF5QjtBQUN6QixNQUFNLE1BQU0sR0FBWjtBQUFBLE1BQ00sTUFBTSxJQURaO0FBRUEsU0FBTyxDQUFDLEtBQUssTUFBTCxNQUFpQixNQUFNLEdBQU4sR0FBWSxDQUE3QixJQUFrQyxHQUFuQyxFQUF3QyxPQUF4QyxDQUFnRCxDQUFoRCxDQUFQO0FBQ0M7QUFDRCxJQUFJLGFBQWEsZUFBakI7O0FBRUY7QUFDQSxPQUFPLGdCQUFQLENBQXdCLE9BQXhCLEVBQWlDLFVBQVMsQ0FBVCxFQUFZO0FBQzNDLElBQUUsY0FBRjtBQUNBLE1BQU0sWUFBWSxTQUFTLGNBQVQsQ0FBd0IsTUFBeEIsRUFBZ0MsS0FBbEQ7QUFDQSxNQUFNLFVBQVUsU0FBUyxjQUFULENBQXdCLElBQXhCLEVBQThCLEtBQTlDO0FBQ0EsTUFBTSxhQUFhLFNBQVMsY0FBVCxDQUF3QixZQUF4QixFQUFzQyxLQUF6RDtBQUNBLE1BQU0sYUFBYSxTQUFTLGNBQVQsQ0FBd0IsWUFBeEIsRUFBc0MsS0FBekQ7O0FBRUE7QUFDQSxNQUFNLFdBQVcsU0FBUyxjQUFULENBQXdCLGNBQXhCLENBQWpCO0FBQ0EsV0FBUyxTQUFULGFBQTZCLFNBQTdCO0FBQ0EsTUFBTSxTQUFTLFNBQVMsY0FBVCxDQUF3QixZQUF4QixDQUFmO0FBQ0EsU0FBTyxTQUFQLFlBQTBCLE9BQTFCOztBQUVBO0FBQ0EsTUFBTSxhQUFhLFNBQVMsY0FBVCxDQUF3QixXQUF4QixDQUFuQjtBQUNBLE1BQU0sYUFBYSxTQUFTLGNBQVQsQ0FBd0IsV0FBeEIsQ0FBbkI7QUFDQSxnQkFBYyxHQUFkLEdBQW9CLFdBQVcsU0FBWCxHQUF3QixVQUF4QixpQkFBcEIsR0FBc0UsT0FBTyxTQUFQLEdBQW9CLFVBQXBCLGtCQUF0RTtBQUNBLGlCQUFlLEdBQWYsR0FBcUIsV0FBVyxTQUFYLEdBQXFCLEVBQTFDLEdBQWdELGVBQWUsR0FBZixHQUFxQixXQUFXLFNBQVgsR0FBd0IsVUFBeEIsaUJBQXJCLEdBQXdFLFdBQVcsU0FBWCxHQUF3QixVQUF4QixrQkFBeEg7O0FBRUE7QUFDQSxNQUFNLFNBQVMsU0FBUyxjQUFULENBQXdCLGFBQXhCLENBQWY7QUFDQSxTQUFPLFNBQVAsU0FBdUIsVUFBdkI7QUFDRCxDQXRCRDs7QUF3QkE7QUFDQSxJQUFJLFFBQVEsU0FBUyxhQUFULENBQXVCLGdCQUF2QixDQUFaO0FBQ0EsSUFBSSxVQUFVLFNBQVMsYUFBVCxDQUF1QixnQkFBdkIsQ0FBZDtBQUNBLElBQUksY0FBYyxTQUFTLGFBQVQsQ0FBdUIsdUJBQXZCLENBQWxCOztBQUVJLFNBQVMsV0FBVCxHQUF1QjtBQUNyQixRQUFNLFNBQU4sQ0FBZ0IsTUFBaEIsQ0FBdUIsWUFBdkI7QUFDRDs7QUFFRCxTQUFTLGFBQVQsQ0FBdUIsS0FBdkIsRUFBOEI7QUFDNUIsTUFBSSxNQUFNLE1BQU4sS0FBaUIsS0FBckIsRUFBNEI7QUFDeEI7QUFDSDtBQUNGOztBQUVILFFBQVEsZ0JBQVIsQ0FBeUIsT0FBekIsRUFBa0MsV0FBbEM7QUFDQSxZQUFZLGdCQUFaLENBQTZCLE9BQTdCLEVBQXNDLFdBQXRDO0FBQ0EsT0FBTyxnQkFBUCxDQUF3QixPQUF4QixFQUFpQyxhQUFqQzs7QUFFRjtBQUNBLElBQU0sZUFBZSxTQUFTLGNBQVQsQ0FBd0IsY0FBeEIsQ0FBckI7QUFDQSxhQUFhLGdCQUFiLENBQThCLE9BQTlCLEVBQXVDLFVBQVMsQ0FBVCxFQUFXOztBQUVoRDtBQUNBLElBQUUsY0FBRjtBQUNELENBSkQsRUFJRyxLQUpIOztBQU1BLFNBQVMsYUFBVCxHQUF5QjtBQUN2QixNQUFNLFFBQVEsU0FBUyxjQUFULENBQXdCLFNBQXhCLENBQWQ7QUFDQSxRQUFNLFNBQU4sQ0FBZ0IsR0FBaEIsQ0FBb0IsTUFBcEI7QUFDQSxhQUFXLFlBQVU7QUFDckIsVUFBTSxTQUFOLENBQWdCLE1BQWhCLENBQXVCLE1BQXZCO0FBQ0E7QUFDQyxHQUhELEVBR0csSUFISDtBQUlEOztBQUdEO0FBQ0EsSUFBTSxZQUFZLFNBQVMsYUFBVCxDQUF1QixzQkFBdkIsQ0FBbEI7QUFDQSxJQUFNLE9BQU8sU0FBUyxnQkFBVCxDQUEwQixvQkFBMUIsQ0FBYjtBQUNBLElBQU0sTUFBTSxTQUFTLGFBQVQsQ0FBdUIsb0JBQXZCLENBQVo7O0FBRUEsTUFBTSxTQUFOLENBQWdCLE9BQWhCLENBQXdCLElBQXhCLENBQThCLFNBQVMsZ0JBQVQsQ0FBMEIsb0JBQTFCLENBQTlCLEVBQStFLFVBQVUsT0FBVixFQUFtQjtBQUNsRyxVQUFRLE9BQVIsR0FBa0IsVUFBbEI7QUFDQyxDQUZEOztBQUlBLFNBQVMsVUFBVCxDQUFxQixPQUFyQixFQUE4QjtBQUM1QixZQUFVLElBQVY7O0FBRUEsTUFBRyxRQUFRLFNBQVIsQ0FBa0IsUUFBbEIsQ0FBMkIsT0FBM0IsQ0FBSCxFQUF1QztBQUNyQyxZQUFRLFNBQVIsQ0FBa0IsTUFBbEIsQ0FBeUIsT0FBekI7QUFDRCxHQUZELE1BRU87QUFDTCxZQUFRLFNBQVIsQ0FBa0IsR0FBbEIsQ0FBc0IsT0FBdEI7QUFDRDtBQUNGIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImNvbnNvbGUubG9nKCdMb2dnaW5nIGZyb20gbGlicmFyeS5qcycpO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXG5cbi8vIFNlbGVjdCBhbGwgbGlua3Mgd2l0aCBoYXNoZXNcbiQoJ2FbaHJlZio9XCIjXCJdJylcbiAgLy8gUmVtb3ZlIGxpbmtzIHRoYXQgZG9uJ3QgYWN0dWFsbHkgbGluayB0byBhbnl0aGluZ1xuICAubm90KCdbaHJlZj1cIiNcIl0nKVxuICAubm90KCdbaHJlZj1cIiMwXCJdJylcbiAgLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgLy8gT24tcGFnZSBsaW5rc1xuICAgIGlmIChcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCAnJykgPT0gdGhpcy5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgJycpXG4gICAgICAmJlxuICAgICAgbG9jYXRpb24uaG9zdG5hbWUgPT0gdGhpcy5ob3N0bmFtZVxuICAgICkge1xuICAgICAgLy8gRmlndXJlIG91dCBlbGVtZW50IHRvIHNjcm9sbCB0b1xuICAgICAgdmFyIHRhcmdldCA9ICQodGhpcy5oYXNoKTtcbiAgICAgIHRhcmdldCA9IHRhcmdldC5sZW5ndGggPyB0YXJnZXQgOiAkKCdbbmFtZT0nICsgdGhpcy5oYXNoLnNsaWNlKDEpICsgJ10nKTtcbiAgICAgIC8vIERvZXMgYSBzY3JvbGwgdGFyZ2V0IGV4aXN0P1xuICAgICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcbiAgICAgICAgLy8gT25seSBwcmV2ZW50IGRlZmF1bHQgaWYgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGdvbm5hIGhhcHBlblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgc2Nyb2xsVG9wOiB0YXJnZXQub2Zmc2V0KCkudG9wXG4gICAgICAgIH0sIDEwMDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vIENhbGxiYWNrIGFmdGVyIGFuaW1hdGlvblxuICAgICAgICAgIC8vIE11c3QgY2hhbmdlIGZvY3VzIVxuICAgICAgICAgIHZhciAkdGFyZ2V0ID0gJCh0YXJnZXQpO1xuICAgICAgICAgICR0YXJnZXQuZm9jdXMoKTtcbiAgICAgICAgICBpZiAoJHRhcmdldC5pcyhcIjpmb2N1c1wiKSkgeyAvLyBDaGVja2luZyBpZiB0aGUgdGFyZ2V0IHdhcyBmb2N1c2VkXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICR0YXJnZXQuYXR0cigndGFiaW5kZXgnLCctMScpOyAvLyBBZGRpbmcgdGFiaW5kZXggZm9yIGVsZW1lbnRzIG5vdCBmb2N1c2FibGVcbiAgICAgICAgICAgICR0YXJnZXQuZm9jdXMoKTsgLy8gU2V0IGZvY3VzIGFnYWluXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxufSk7XG5cblxuXHQ7KCBmdW5jdGlvbiAoIGRvY3VtZW50LCB3aW5kb3csIGluZGV4ICkge1xuXHRcdCd1c2Ugc3RyaWN0JztcblxuXHRcdHZhciBlbFNlbGVjdG9yID0gJy5oZWFkZXInLFxuXHRcdFx0ZWxDbGFzc0hpZGRlblx0PSAnaGVhZGVyLS1oaWRkZW4nLFxuXHRcdFx0dGhyb3R0bGVUaW1lb3V0XHQ9IDUwMCxcblx0XHRcdGVsZW1lbnRcdD0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggZWxTZWxlY3RvciApO1xuXG5cdFx0aWYoICFlbGVtZW50ICkgcmV0dXJuIHRydWU7XG5cblx0XHR2YXIgZEhlaWdodFx0PSAwLFxuXHRcdFx0d0hlaWdodFx0PSAwLFxuXHRcdFx0d1Njcm9sbEN1cnJlbnQgPSAwLFxuXHRcdFx0d1Njcm9sbEJlZm9yZVx0PSAwLFxuXHRcdFx0d1Njcm9sbERpZmZcdD0gMCxcblxuaGFzRWxlbWVudENsYXNzXHRcdD0gZnVuY3Rpb24oIGVsZW1lbnQsIGNsYXNzTmFtZSApe1xuICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0ID8gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoIGNsYXNzTmFtZSApIDogbmV3IFJlZ0V4cCggJyhefCApJyArIGNsYXNzTmFtZSArICcoIHwkKScsICdnaScgKS50ZXN0KCBlbGVtZW50LmNsYXNzTmFtZSApO1xufSxcblxuYWRkRWxlbWVudENsYXNzXHRcdD0gZnVuY3Rpb24oIGVsZW1lbnQsIGNsYXNzTmFtZSApe1xuICAgZWxlbWVudC5jbGFzc0xpc3QgPyBlbGVtZW50LmNsYXNzTGlzdC5hZGQoIGNsYXNzTmFtZSApIDogZWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xufSxcblxucmVtb3ZlRWxlbWVudENsYXNzXHQ9IGZ1bmN0aW9uKCBlbGVtZW50LCBjbGFzc05hbWUgKXtcbiAgIGVsZW1lbnQuY2xhc3NMaXN0ID8gZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCBjbGFzc05hbWUgKSA6IGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSggbmV3IFJlZ0V4cCggJyhefFxcXFxiKScgKyBjbGFzc05hbWUuc3BsaXQoICcgJyApLmpvaW4oICd8JyApICsgJyhcXFxcYnwkKScsICdnaScgKSwgJyAnICk7XG59LFxuXG5cdFx0XHR0aHJvdHRsZSA9IGZ1bmN0aW9uKCBkZWxheSwgZm4gKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgbGFzdCwgZGVmZXJUaW1lcjtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHZhciBjb250ZXh0ID0gdGhpcywgYXJncyA9IGFyZ3VtZW50cywgbm93ID0gK25ldyBEYXRlO1xuXHRcdFx0XHRcdGlmKCBsYXN0ICYmIG5vdyA8IGxhc3QgKyBkZWxheSApXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KCBkZWZlclRpbWVyICk7XG5cdFx0XHRcdFx0XHRkZWZlclRpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXsgbGFzdCA9IG5vdzsgZm4uYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTsgfSwgZGVsYXkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGxhc3QgPSBub3c7XG5cdFx0XHRcdFx0XHRmbi5hcHBseSggY29udGV4dCwgYXJncyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIHRocm90dGxlKCB0aHJvdHRsZVRpbWVvdXQsIGZ1bmN0aW9uKClcblx0XHR7XG5cdFx0XHRkSGVpZ2h0XHRcdFx0PSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcblx0XHRcdHdIZWlnaHRcdFx0XHQ9IHdpbmRvdy5pbm5lckhlaWdodDtcblx0XHRcdHdTY3JvbGxDdXJyZW50XHQ9IHdpbmRvdy5wYWdlWU9mZnNldDtcblx0XHRcdHdTY3JvbGxEaWZmXHRcdD0gd1Njcm9sbEJlZm9yZSAtIHdTY3JvbGxDdXJyZW50O1xuXG5cdFx0XHRpZiggd1Njcm9sbEN1cnJlbnQgPD0gMCApIC8vIHNjcm9sbGVkIHRvIHRoZSB2ZXJ5IHRvcDsgZWxlbWVudCBzdGlja3MgdG8gdGhlIHRvcFxuXHRcdFx0XHRyZW1vdmVFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKTtcblxuXHRcdFx0ZWxzZSBpZiggd1Njcm9sbERpZmYgPiAwICYmIGhhc0VsZW1lbnRDbGFzcyggZWxlbWVudCwgZWxDbGFzc0hpZGRlbiApICkgLy8gc2Nyb2xsZWQgdXA7IGVsZW1lbnQgc2xpZGVzIGluXG5cdFx0XHRcdHJlbW92ZUVsZW1lbnRDbGFzcyggZWxlbWVudCwgZWxDbGFzc0hpZGRlbiApO1xuXG5cdFx0XHRlbHNlIGlmKCB3U2Nyb2xsRGlmZiA8IDAgKSAvLyBzY3JvbGxlZCBkb3duXG5cdFx0XHR7XG5cdFx0XHRcdGlmKCB3U2Nyb2xsQ3VycmVudCArIHdIZWlnaHQgPj0gZEhlaWdodCAmJiBoYXNFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKSApIC8vIHNjcm9sbGVkIHRvIHRoZSB2ZXJ5IGJvdHRvbTsgZWxlbWVudCBzbGlkZXMgaW5cblx0XHRcdFx0XHRyZW1vdmVFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKTtcblxuXHRcdFx0XHRlbHNlIC8vIHNjcm9sbGVkIGRvd247IGVsZW1lbnQgc2xpZGVzIG91dFxuXHRcdFx0XHRcdGFkZEVsZW1lbnRDbGFzcyggZWxlbWVudCwgZWxDbGFzc0hpZGRlbiApO1xuXHRcdFx0fVxuXG5cdFx0XHR3U2Nyb2xsQmVmb3JlID0gd1Njcm9sbEN1cnJlbnQ7XG5cdFx0fSkpO1xuXG5cdH0oIGRvY3VtZW50LCB3aW5kb3csIDAgKSk7XG5cblxuLy8gYm9va2luZyByZXNlcnZhdGlvblxuY29uc3Qgc3VibWl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2YyJyk7XG5jb25zdCBmcm9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmcm9tXCIpO1xuY29uc3QgdG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvXCIpO1xuY29uc3QgYWR1bHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2stYWR1bHRcIik7XG5jb25zdCBjaGlsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9vay1jaGlsZFwiKTtcblxuLy8gYW1vdW50IHRvdGFsIGR1bW15IGRhdGEgdmlhIHJhbmQjXG4gIGZ1bmN0aW9uIGdldFJhbmRBbW91bnQoKSB7XG4gIGNvbnN0IG1pbiA9IDMyNSxcbiAgICAgICAgbWF4ID0gNTAwMDtcbiAgcmV0dXJuIChNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKS50b0ZpeGVkKDIpO1xuICB9XG4gIGxldCByYW5kQW1vdW50ID0gZ2V0UmFuZEFtb3VudCgpO1xuXG4vLyBib29rIG5vdyBidXR0b25cbnN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGZyb21WYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnJvbVwiKS52YWx1ZTtcbiAgY29uc3QgdG9WYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9cIikudmFsdWU7XG4gIGNvbnN0IGFkdWx0VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2stYWR1bHRcIikudmFsdWU7XG4gIGNvbnN0IGNoaWxkVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2stY2hpbGRcIikudmFsdWU7XG5cbiAgLy8gaGFuZGxlIGRhdGUgaW5wdXRcbiAgY29uc3QgZGF0ZUZyb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2tGcm9tRGF0ZVwiKTtcbiAgZGF0ZUZyb20uaW5uZXJIVE1MID0gYEZyb20gJHtmcm9tVmFsdWV9YDtcbiAgY29uc3QgZGF0ZVRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib29rVG9EYXRlXCIpO1xuICBkYXRlVG8uaW5uZXJIVE1MID0gYFRvICAke3RvVmFsdWV9YDtcblxuICAvLyBoYW5kbGUgZ3Vlc3QgaW5wdXRcbiAgY29uc3QgYWR1bHRHdWVzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9va0FkdWx0XCIpO1xuICBjb25zdCBjaGlsZEd1ZXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib29rQ2hpbGRcIik7XG4gIGFkdWx0VmFsdWUgPj0gXCIxXCIgPyBhZHVsdEd1ZXN0LmlubmVySFRNTD1gJHthZHVsdFZhbHVlfSBBZHVsdCBHdWVzdGA6IGd1ZXN0cy5pbm5lckhUTUw9YCR7YWR1bHRWYWx1ZX0gQWR1bHQgR3Vlc3RzYFxuICBjaGlsZFZhbHVlID09PSBcIjBcIiA/IGNoaWxkR3Vlc3QuaW5uZXJIVE1MPVwiXCIgOiAoY2hpbGRWYWx1ZSA9PT0gXCIxXCIgPyBjaGlsZEd1ZXN0LmlubmVySFRNTD1gJHtjaGlsZFZhbHVlfSBDaGlsZCBHdWVzdGAgOiBjaGlsZEd1ZXN0LmlubmVySFRNTD1gJHtjaGlsZFZhbHVlfSBDaGlsZCBHdWVzdHNgKTtcblxuICAvLyBoYW5kbGUgYW1vdW50XG4gIGNvbnN0IGFtb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9vay1hbW91bnRcIik7XG4gIGFtb3VudC5pbm5lckhUTUwgPSBgJCR7cmFuZEFtb3VudH1gO1xufSk7XG5cbi8vIG1vZGFsXG52YXIgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbmZpcm0tbW9kYWxcIik7XG52YXIgdHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJpZ2dlci1tb2RhbFwiKTtcbnZhciBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29uZmlybS1tb2RhbF9fY2xvc2VcIik7XG5cbiAgICBmdW5jdGlvbiB0b2dnbGVNb2RhbCgpIHtcbiAgICAgIG1vZGFsLmNsYXNzTGlzdC50b2dnbGUoXCJzaG93LW1vZGFsXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdpbmRvd09uQ2xpY2soZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IG1vZGFsKSB7XG4gICAgICAgICAgdG9nZ2xlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlTW9kYWwpO1xuICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlTW9kYWwpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHdpbmRvd09uQ2xpY2spO1xuXG4vLyBoYW5kbGUgcG9wdXBcbmNvbnN0IGNvbmZpcm1Qb3BVcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZmlybVBvcFVwXCIpO1xuY29uZmlybVBvcFVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcblxuICBjb25maXJtU3VibWl0KCk7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbn0sIGZhbHNlKTtcblxuZnVuY3Rpb24gY29uZmlybVN1Ym1pdCgpIHtcbiAgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15UG9wdXBcIik7XG4gIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuICB0b2dnbGVNb2RhbCgpO1xuICB9LCAzOTUwKTtcbn1cblxuXG4vLyB0b2dnbGUgcmV2aWV3IGxpa2VzXG5jb25zdCBidG5QYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYucmV2aWV3X191c2VyLWJ0bicpO1xuY29uc3QgYnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXZpZXdfX3VzZXItbGlrZScpO1xuY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXZpZXdfX3VzZXItbGlrZVwiKTtcblxuQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZXZpZXdfX3VzZXItbGlrZVwiKSwgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbmVsZW1lbnQub25jbGljayA9IHRvZ2dsZUxpa2U7XG59KTtcblxuZnVuY3Rpb24gdG9nZ2xlTGlrZSAoZWxlbWVudCkge1xuICBlbGVtZW50ID0gdGhpcztcblxuICBpZihlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImxpa2VkXCIpKXtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJsaWtlZFwiKTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJsaWtlZFwiKTtcbiAgfVxufVxuIl19\n"]}