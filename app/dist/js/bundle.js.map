{"version":3,"sources":["bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","console","log","$","document","ready","not","click","event","location","pathname","replace","this","hostname","target","hash","slice","preventDefault","animate","scrollTop","offset","top","$target","focus","is","attr","addEventListener","toggleModal","modal","classList","toggle","toggleLike","element","contains","remove","add","window","index","querySelector","dHeight","wHeight","wScrollCurrent","wScrollBefore","wScrollDiff","hasElementClass","className","RegExp","test","removeElementClass","split","join","delay","fn","last","deferTimer","context","args","arguments","now","Date","clearTimeout","setTimeout","apply","throttle","body","offsetHeight","innerHeight","pageYOffset","addElementClass","submit","getElementById","randAmount","Math","random","toFixed","fromValue","value","toValue","adultValue","childValue","innerHTML","adultGuest","childGuest","guests","trigger","closeButton","popup","confirmSubmit","querySelectorAll","Array","prototype","forEach","onclick","today","setMinDateFrom","setMinDateTo","min"],"mappings":"CAAA,SAAUA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,IAAIS,YAAYb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAkD,IAAI,IAA1CL,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAAvb,EAA4ba,GAAG,SAAST,EAAQU,EAAOJ,GACvd,aAEAK,QAAQC,IAAI,2BAEZC,EAAEC,UAAUC,MAAM,WAGhBF,EAAE,gBAEDG,IAAI,cAAcA,IAAI,eAAeC,MAAM,SAAUC,GAEpD,GAAIC,SAASC,SAASC,QAAQ,MAAO,KAAOC,KAAKF,SAASC,QAAQ,MAAO,KAAOF,SAASI,UAAYD,KAAKC,SAAU,CAElH,IAAIC,EAASX,EAAES,KAAKG,OACpBD,EAASA,EAAOhB,OAASgB,EAASX,EAAE,SAAWS,KAAKG,KAAKC,MAAM,GAAK,MAEzDlB,SAETU,EAAMS,iBACNd,EAAE,cAAce,SACdC,UAAWL,EAAOM,SAASC,KAC1B,IAAM,WAGP,IAAIC,EAAUnB,EAAEW,GAEhB,GADAQ,EAAQC,QACJD,EAAQE,GAAG,UAEb,OAAO,EAEPF,EAAQG,KAAK,WAAY,MACzBH,EAAQC,gBAQpBnB,SAASsB,iBAAiB,mBAAoB,SAAUlB,GA6GtD,SAASmB,IACPC,EAAMC,UAAUC,OAAO,cAuCzB,SAASC,EAAWC,IAClBA,EAAUpB,MAEEiB,UAAUI,SAAS,SAC7BD,EAAQH,UAAUK,OAAO,SAEzBF,EAAQH,UAAUM,IAAI,UAxJzB,SAAW/B,EAAUgC,EAAQC,GAG5B,IAGIL,EAAU5B,EAASkC,cAHN,WAKjB,IAAKN,EAAS,OAAO,EAErB,IAAIO,EAAU,EACVC,EAAU,EACVC,EAAiB,EACjBC,EAAgB,EAChBC,EAAc,EACdC,EAAkB,SAAyBZ,EAASa,GACtD,OAAOb,EAAQH,UAAYG,EAAQH,UAAUI,SAASY,GAAa,IAAIC,OAAO,QAAUD,EAAY,QAAS,MAAME,KAAKf,EAAQa,YAK9HG,EAAqB,SAA4BhB,EAASa,GAC5Db,EAAQH,UAAYG,EAAQH,UAAUK,OAAOW,GAAab,EAAQa,UAAYb,EAAQa,UAAUlC,QAAQ,IAAImC,OAAO,UAAYD,EAAUI,MAAM,KAAKC,KAAK,KAAO,UAAW,MAAO,MAoBpLd,EAAOV,iBAAiB,SAlBT,SAAkByB,EAAOC,GACtC,IAAIC,EAAMC,EACV,OAAO,WACL,IAAIC,EAAU3C,KACV4C,EAAOC,UACPC,GAAO,IAAIC,KACXN,GAAQK,EAAML,EAAOF,GACvBS,aAAaN,GACbA,EAAaO,WAAW,WACtBR,EAAOK,EAAIN,EAAGU,MAAMP,EAASC,IAC5BL,KAEHE,EAAOK,EACPN,EAAGU,MAAMP,EAASC,KAKUO,CArCZ,IAqCsC,WAC1DxB,EAAUnC,EAAS4D,KAAKC,aACxBzB,EAAUJ,EAAO8B,YACjBzB,EAAiBL,EAAO+B,YACxBxB,EAAcD,EAAgBD,EAE1BA,GAAkB,EACpBO,EAAmBhB,EA7CH,kBA6CoCW,EAAc,GAAKC,EAAgBZ,EA7CvE,kBA8ChBgB,EAAmBhB,EA9CH,kBA8CoCW,EAAc,IAE5DF,EAAiBD,GAAWD,GAAWK,EAAgBZ,EAhD7C,kBAiDZgB,EAAmBhB,EAjDP,kBAcE,SAAyBA,EAASa,GACtDb,EAAQH,UAAYG,EAAQH,UAAUM,IAAIU,GAAab,EAAQa,WAAa,IAAMA,EAmC5EuB,CAAgBpC,EAlDJ,mBAqDlBU,EAAgBD,KAzDnB,CA2DErC,SAAUgC,QAGb,IAAIiC,EAASjE,SAASkE,eAAe,MAYjCC,GAXOnE,SAASkE,eAAe,QAC1BlE,SAASkE,eAAe,MACrBlE,SAASkE,eAAe,cACxBlE,SAASkE,eAAe,eAMV,KAAhBE,KAAKC,SAFH,KAEqCC,QAAQ,IAKzDL,EAAO3C,iBAAiB,QAAS,SAAU5C,GAEzC,IAAI6F,EAAYvE,SAASkE,eAAe,QAAQM,MAC5CC,EAAUzE,SAASkE,eAAe,MAAMM,MACxCE,EAAa1E,SAASkE,eAAe,cAAcM,MACnDG,EAAa3E,SAASkE,eAAe,cAAcM,MAGxCxE,SAASkE,eAAe,gBAC9BU,UAAY,QAAUL,EAClBvE,SAASkE,eAAe,cAC9BU,UAAY,OAASH,EAG5B,IAAII,EAAa7E,SAASkE,eAAe,aACrCY,EAAa9E,SAASkE,eAAe,aACzCQ,GAAc,IAAMG,EAAWD,UAAYF,EAAa,eAAiBK,OAAOH,UAAYF,EAAa,gBACpFI,EAAWF,UAAjB,MAAfD,EAA4C,GAAoB,MAAfA,EAA4CA,EAAa,eAAwCA,EAAa,gBAGlJ3E,SAASkE,eAAe,eAC9BU,UAAY,IAAMT,IAI3B,IAAI3C,EAAQxB,SAASkC,cAAc,kBAC/B8C,EAAUhF,SAASkC,cAAc,kBACjC+C,EAAcjF,SAASkC,cAAc,yBAYzC8C,EAAQ1D,iBAAiB,QAASC,GAClC0D,EAAY3D,iBAAiB,QAASC,GACtCS,OAAOV,iBAAiB,QARxB,SAAuBlB,GACjBA,EAAMM,SAAWc,GACnBD,MASevB,SAASkE,eAAe,gBAC9B5C,iBAAiB,QAAS,SAAU5C,IAMjD,WACE,IAAIwG,EAAQlF,SAASkE,eAAe,WACpCgB,EAAMzD,UAAUM,IAAI,QACpB0B,WAAW,WACTyB,EAAMzD,UAAUK,OAAO,QACvBP,KACC,MAVH4D,GACAzG,EAAEmC,mBACD,GAYab,SAASkC,cAAc,wBAC5BlC,SAASoF,iBAAiB,sBAC3BpF,SAASkC,cAAc,sBAEjCmD,MAAMC,UAAUC,QAAQ9F,KAAKO,SAASoF,iBAAiB,sBAAuB,SAAUxD,GACtFA,EAAQ4D,QAAU7D,IAapB,IAAI8D,EAAQ,IAAIlC,KACZmC,EAAiB1F,SAASkC,cAAc,yBACxCyD,EAAe3F,SAASkC,cAAc,uBAC1CwD,EAAeE,IAAM,GAAKH,EAC1BE,EAAaC,IAAM,GAAKH,cAGf","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nconsole.log('Logging from library.js');\n\n$(document).ready(function () {\n\n  // Select all links with hashes\n  $('a[href*=\"#\"]')\n  // Remove links that don't actually link to anything\n  .not('[href=\"#\"]').not('[href=\"#0\"]').click(function (event) {\n    // On-page links\n    if (location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') && location.hostname == this.hostname) {\n      // Figure out element to scroll to\n      var target = $(this.hash);\n      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n      // Does a scroll target exist?\n      if (target.length) {\n        // Only prevent default if animation is actually gonna happen\n        event.preventDefault();\n        $('html, body').animate({\n          scrollTop: target.offset().top\n        }, 1000, function () {\n          // Callback after animation\n          // Must change focus!\n          var $target = $(target);\n          $target.focus();\n          if ($target.is(\":focus\")) {\n            // Checking if the target was focused\n            return false;\n          } else {\n            $target.attr('tabindex', '-1'); // Adding tabindex for elements not focusable\n            $target.focus(); // Set focus again\n          };\n        });\n      }\n    }\n  });\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n  // Your code to run since DOM is loaded and ready\n\n  ;(function (document, window, index) {\n    'use strict';\n\n    var elSelector = '.header',\n        elClassHidden = 'header--hidden',\n        throttleTimeout = 500,\n        element = document.querySelector(elSelector);\n\n    if (!element) return true;\n\n    var dHeight = 0,\n        wHeight = 0,\n        wScrollCurrent = 0,\n        wScrollBefore = 0,\n        wScrollDiff = 0,\n        hasElementClass = function hasElementClass(element, className) {\n      return element.classList ? element.classList.contains(className) : new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\n    },\n        addElementClass = function addElementClass(element, className) {\n      element.classList ? element.classList.add(className) : element.className += ' ' + className;\n    },\n        removeElementClass = function removeElementClass(element, className) {\n      element.classList ? element.classList.remove(className) : element.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n    },\n        throttle = function throttle(delay, fn) {\n      var last, deferTimer;\n      return function () {\n        var context = this,\n            args = arguments,\n            now = +new Date();\n        if (last && now < last + delay) {\n          clearTimeout(deferTimer);\n          deferTimer = setTimeout(function () {\n            last = now;fn.apply(context, args);\n          }, delay);\n        } else {\n          last = now;\n          fn.apply(context, args);\n        }\n      };\n    };\n\n    window.addEventListener('scroll', throttle(throttleTimeout, function () {\n      dHeight = document.body.offsetHeight;\n      wHeight = window.innerHeight;\n      wScrollCurrent = window.pageYOffset;\n      wScrollDiff = wScrollBefore - wScrollCurrent;\n\n      if (wScrollCurrent <= 0) // scrolled to the very top; element sticks to the top\n        removeElementClass(element, elClassHidden);else if (wScrollDiff > 0 && hasElementClass(element, elClassHidden)) // scrolled up; element slides in\n        removeElementClass(element, elClassHidden);else if (wScrollDiff < 0) // scrolled down\n        {\n          if (wScrollCurrent + wHeight >= dHeight && hasElementClass(element, elClassHidden)) // scrolled to the very bottom; element slides in\n            removeElementClass(element, elClassHidden);else // scrolled down; element slides out\n            addElementClass(element, elClassHidden);\n        }\n\n      wScrollBefore = wScrollCurrent;\n    }));\n  })(document, window, 0);\n\n  // booking reservation\n  var submit = document.getElementById('f2');\n  var from = document.getElementById(\"from\");\n  var to = document.getElementById(\"to\");\n  var adult = document.getElementById(\"book-adult\");\n  var child = document.getElementById(\"book-child\");\n\n  // amount total dummy data via rand#\n  function getRandAmount() {\n    var min = 325,\n        max = 5000;\n    return (Math.random() * (max - min + 1) + min).toFixed(2);\n  }\n  var randAmount = getRandAmount();\n\n  // book now button\n  submit.addEventListener(\"click\", function (e) {\n    // e.preventDefault();\n    var fromValue = document.getElementById(\"from\").value;\n    var toValue = document.getElementById(\"to\").value;\n    var adultValue = document.getElementById(\"book-adult\").value;\n    var childValue = document.getElementById(\"book-child\").value;\n\n    // handle date input\n    var dateFrom = document.getElementById(\"bookFromDate\");\n    dateFrom.innerHTML = 'From ' + fromValue;\n    var dateTo = document.getElementById(\"bookToDate\");\n    dateTo.innerHTML = 'To  ' + toValue;\n\n    // handle guest input\n    var adultGuest = document.getElementById(\"bookAdult\");\n    var childGuest = document.getElementById(\"bookChild\");\n    adultValue >= \"1\" ? adultGuest.innerHTML = adultValue + ' Adult Guest' : guests.innerHTML = adultValue + ' Adult Guests';\n    childValue === \"0\" ? childGuest.innerHTML = \"\" : childValue === \"1\" ? childGuest.innerHTML = childValue + ' Child Guest' : childGuest.innerHTML = childValue + ' Child Guests';\n\n    // handle amount\n    var amount = document.getElementById(\"book-amount\");\n    amount.innerHTML = '$' + randAmount;\n  });\n\n  // modal\n  var modal = document.querySelector(\".confirm-modal\");\n  var trigger = document.querySelector(\".trigger-modal\");\n  var closeButton = document.querySelector(\".confirm-modal__close\");\n\n  function toggleModal() {\n    modal.classList.toggle(\"show-modal\");\n  }\n\n  function windowOnClick(event) {\n    if (event.target === modal) {\n      toggleModal();\n    }\n  }\n\n  trigger.addEventListener(\"click\", toggleModal);\n  closeButton.addEventListener(\"click\", toggleModal);\n  window.addEventListener(\"click\", windowOnClick);\n\n  // handle popup\n  var confirmPopUp = document.getElementById(\"confirmPopUp\");\n  confirmPopUp.addEventListener(\"click\", function (e) {\n\n    confirmSubmit();\n    e.preventDefault();\n  }, false);\n\n  function confirmSubmit() {\n    var popup = document.getElementById(\"myPopup\");\n    popup.classList.add(\"show\");\n    setTimeout(function () {\n      popup.classList.remove(\"show\");\n      toggleModal();\n    }, 3950);\n  }\n\n  // toggle review likes\n  var btnParent = document.querySelector('div.review__user-btn');\n  var btns = document.querySelectorAll('.review__user-like');\n  var btn = document.querySelector(\".review__user-like\");\n\n  Array.prototype.forEach.call(document.querySelectorAll(\".review__user-like\"), function (element) {\n    element.onclick = toggleLike;\n  });\n\n  function toggleLike(element) {\n    element = this;\n\n    if (element.classList.contains(\"liked\")) {\n      element.classList.remove(\"liked\");\n    } else {\n      element.classList.add(\"liked\");\n    }\n  }\n\n  var today = new Date();\n  var setMinDateFrom = document.querySelector(\"input[type=date]#from\");\n  var setMinDateTo = document.querySelector(\"input[type=date]#to\");\n  setMinDateFrom.min = '' + today;\n  setMinDateTo.min = '' + today;\n});\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9jb25jYXQvYnVuZGxlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxRQUFRLEdBQVIsQ0FBWSx5QkFBWjs7QUFFQSxFQUFFLFFBQUYsRUFBWSxLQUFaLENBQWtCLFlBQVU7O0FBRzVCO0FBQ0EsSUFBRSxjQUFGO0FBQ0U7QUFERixHQUVHLEdBRkgsQ0FFTyxZQUZQLEVBR0csR0FISCxDQUdPLGFBSFAsRUFJRyxLQUpILENBSVMsVUFBUyxLQUFULEVBQWdCO0FBQ3JCO0FBQ0EsUUFDRSxTQUFTLFFBQVQsQ0FBa0IsT0FBbEIsQ0FBMEIsS0FBMUIsRUFBaUMsRUFBakMsS0FBd0MsS0FBSyxRQUFMLENBQWMsT0FBZCxDQUFzQixLQUF0QixFQUE2QixFQUE3QixDQUF4QyxJQUVBLFNBQVMsUUFBVCxJQUFxQixLQUFLLFFBSDVCLEVBSUU7QUFDQTtBQUNBLFVBQUksU0FBUyxFQUFFLEtBQUssSUFBUCxDQUFiO0FBQ0EsZUFBUyxPQUFPLE1BQVAsR0FBZ0IsTUFBaEIsR0FBeUIsRUFBRSxXQUFXLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBZ0IsQ0FBaEIsQ0FBWCxHQUFnQyxHQUFsQyxDQUFsQztBQUNBO0FBQ0EsVUFBSSxPQUFPLE1BQVgsRUFBbUI7QUFDakI7QUFDQSxjQUFNLGNBQU47QUFDQSxVQUFFLFlBQUYsRUFBZ0IsT0FBaEIsQ0FBd0I7QUFDdEIscUJBQVcsT0FBTyxNQUFQLEdBQWdCO0FBREwsU0FBeEIsRUFFRyxJQUZILEVBRVMsWUFBVztBQUNsQjtBQUNBO0FBQ0EsY0FBSSxVQUFVLEVBQUUsTUFBRixDQUFkO0FBQ0Esa0JBQVEsS0FBUjtBQUNBLGNBQUksUUFBUSxFQUFSLENBQVcsUUFBWCxDQUFKLEVBQTBCO0FBQUU7QUFDMUIsbUJBQU8sS0FBUDtBQUNELFdBRkQsTUFFTztBQUNMLG9CQUFRLElBQVIsQ0FBYSxVQUFiLEVB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QUNyQyxjQUFRLFNBQVIsQ0FBa0IsTUFBbEIsQ0FBeUIsT0FBekI7QUFDRCxLQUZELE1BRU87QUFDTCxjQUFRLFNBQVIsQ0FBa0IsR0FBbEIsQ0FBc0IsT0FBdEI7QUFDRDtBQUNGOztBQUVELE1BQUksUUFBUSxJQUFJLElBQUosRUFBWjtBQUNBLE1BQU0saUJBQWlCLFNBQVMsYUFBVCxDQUF1Qix1QkFBdkIsQ0FBdkI7QUFDQSxNQUFNLGVBQWUsU0FBUyxhQUFULENBQXVCLHFCQUF2QixDQUFyQjtBQUNBLGlCQUFlLEdBQWYsUUFBd0IsS0FBeEI7QUFDQSxlQUFhLEdBQWIsUUFBc0IsS0FBdEI7QUFDQyxDQW5MRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjb25zb2xlLmxvZygnTG9nZ2luZyBmcm9tIGxpYnJhcnkuanMnKTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblxuXG4vLyBTZWxlY3QgYWxsIGxpbmtzIHdpdGggaGFzaGVzXG4kKCdhW2hyZWYqPVwiI1wiXScpXG4gIC8vIFJlbW92ZSBsaW5rcyB0aGF0IGRvbid0IGFjdHVhbGx5IGxpbmsgdG8gYW55dGhpbmdcbiAgLm5vdCgnW2hyZWY9XCIjXCJdJylcbiAgLm5vdCgnW2hyZWY9XCIjMFwiXScpXG4gIC5jbGljayhmdW5jdGlvbihldmVudCkge1xuICAgIC8vIE9uLXBhZ2UgbGlua3NcbiAgICBpZiAoXG4gICAgICBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgJycpID09IHRoaXMucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sICcnKVxuICAgICAgJiZcbiAgICAgIGxvY2F0aW9uLmhvc3RuYW1lID09IHRoaXMuaG9zdG5hbWVcbiAgICApIHtcbiAgICAgIC8vIEZpZ3VyZSBvdXQgZWxlbWVudCB0byBzY3JvbGwgdG9cbiAgICAgIHZhciB0YXJnZXQgPSAkKHRoaXMuaGFzaCk7XG4gICAgICB0YXJnZXQgPSB0YXJnZXQubGVuZ3RoID8gdGFyZ2V0IDogJCgnW25hbWU9JyArIHRoaXMuaGFzaC5zbGljZSgxKSArICddJyk7XG4gICAgICAvLyBEb2VzIGEgc2Nyb2xsIHRhcmdldCBleGlzdD9cbiAgICAgIGlmICh0YXJnZXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIE9ubHkgcHJldmVudCBkZWZhdWx0IGlmIGFuaW1hdGlvbiBpcyBhY3R1YWxseSBnb25uYSBoYXBwZW5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0Lm9mZnNldCgpLnRvcFxuICAgICAgICB9LCAxMDAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBDYWxsYmFjayBhZnRlciBhbmltYXRpb25cbiAgICAgICAgICAvLyBNdXN0IGNoYW5nZSBmb2N1cyFcbiAgICAgICAgICB2YXIgJHRhcmdldCA9ICQodGFyZ2V0KTtcbiAgICAgICAgICAkdGFyZ2V0LmZvY3VzKCk7XG4gICAgICAgICAgaWYgKCR0YXJnZXQuaXMoXCI6Zm9jdXNcIikpIHsgLy8gQ2hlY2tpbmcgaWYgdGhlIHRhcmdldCB3YXMgZm9jdXNlZFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdGFyZ2V0LmF0dHIoJ3RhYmluZGV4JywnLTEnKTsgLy8gQWRkaW5nIHRhYmluZGV4IGZvciBlbGVtZW50cyBub3QgZm9jdXNhYmxlXG4gICAgICAgICAgICAkdGFyZ2V0LmZvY3VzKCk7IC8vIFNldCBmb2N1cyBhZ2FpblxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbihldmVudCkge1xuICAgIC8vIFlvdXIgY29kZSB0byBydW4gc2luY2UgRE9NIGlzIGxvYWRlZCBhbmQgcmVhZHlcblxuICA7KCBmdW5jdGlvbiAoIGRvY3VtZW50LCB3aW5kb3csIGluZGV4ICkge1xuXHRcdCd1c2Ugc3RyaWN0JztcblxuXHRcdHZhciBlbFNlbGVjdG9yID0gJy5oZWFkZXInLFxuXHRcdFx0ZWxDbGFzc0hpZGRlblx0PSAnaGVhZGVyLS1oaWRkZW4nLFxuXHRcdFx0dGhyb3R0bGVUaW1lb3V0XHQ9IDUwMCxcblx0XHRcdGVsZW1lbnRcdD0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggZWxTZWxlY3RvciApO1xuXG5cdFx0aWYoICFlbGVtZW50ICkgcmV0dXJuIHRydWU7XG5cblx0XHR2YXIgZEhlaWdodFx0PSAwLFxuXHRcdFx0d0hlaWdodFx0PSAwLFxuXHRcdFx0d1Njcm9sbEN1cnJlbnQgPSAwLFxuXHRcdFx0d1Njcm9sbEJlZm9yZVx0PSAwLFxuXHRcdFx0d1Njcm9sbERpZmZcdD0gMCxcblxuaGFzRWxlbWVudENsYXNzXHRcdD0gZnVuY3Rpb24oIGVsZW1lbnQsIGNsYXNzTmFtZSApe1xuICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0ID8gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoIGNsYXNzTmFtZSApIDogbmV3IFJlZ0V4cCggJyhefCApJyArIGNsYXNzTmFtZSArICcoIHwkKScsICdnaScgKS50ZXN0KCBlbGVtZW50LmNsYXNzTmFtZSApO1xufSxcblxuYWRkRWxlbWVudENsYXNzXHRcdD0gZnVuY3Rpb24oIGVsZW1lbnQsIGNsYXNzTmFtZSApe1xuICAgZWxlbWVudC5jbGFzc0xpc3QgPyBlbGVtZW50LmNsYXNzTGlzdC5hZGQoIGNsYXNzTmFtZSApIDogZWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xufSxcblxucmVtb3ZlRWxlbWVudENsYXNzXHQ9IGZ1bmN0aW9uKCBlbGVtZW50LCBjbGFzc05hbWUgKXtcbiAgIGVsZW1lbnQuY2xhc3NMaXN0ID8gZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCBjbGFzc05hbWUgKSA6IGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSggbmV3IFJlZ0V4cCggJyhefFxcXFxiKScgKyBjbGFzc05hbWUuc3BsaXQoICcgJyApLmpvaW4oICd8JyApICsgJyhcXFxcYnwkKScsICdnaScgKSwgJyAnICk7XG59LFxuXG5cdFx0XHR0aHJvdHRsZSA9IGZ1bmN0aW9uKCBkZWxheSwgZm4gKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgbGFzdCwgZGVmZXJUaW1lcjtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHZhciBjb250ZXh0ID0gdGhpcywgYXJncyA9IGFyZ3VtZW50cywgbm93ID0gK25ldyBEYXRlO1xuXHRcdFx0XHRcdGlmKCBsYXN0ICYmIG5vdyA8IGxhc3QgKyBkZWxheSApXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KCBkZWZlclRpbWVyICk7XG5cdFx0XHRcdFx0XHRkZWZlclRpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXsgbGFzdCA9IG5vdzsgZm4uYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTsgfSwgZGVsYXkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGxhc3QgPSBub3c7XG5cdFx0XHRcdFx0XHRmbi5hcHBseSggY29udGV4dCwgYXJncyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIHRocm90dGxlKCB0aHJvdHRsZVRpbWVvdXQsIGZ1bmN0aW9uKClcblx0XHR7XG5cdFx0XHRkSGVpZ2h0XHRcdFx0PSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcblx0XHRcdHdIZWlnaHRcdFx0XHQ9IHdpbmRvdy5pbm5lckhlaWdodDtcblx0XHRcdHdTY3JvbGxDdXJyZW50XHQ9IHdpbmRvdy5wYWdlWU9mZnNldDtcblx0XHRcdHdTY3JvbGxEaWZmXHRcdD0gd1Njcm9sbEJlZm9yZSAtIHdTY3JvbGxDdXJyZW50O1xuXG5cdFx0XHRpZiggd1Njcm9sbEN1cnJlbnQgPD0gMCApIC8vIHNjcm9sbGVkIHRvIHRoZSB2ZXJ5IHRvcDsgZWxlbWVudCBzdGlja3MgdG8gdGhlIHRvcFxuXHRcdFx0XHRyZW1vdmVFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKTtcblxuXHRcdFx0ZWxzZSBpZiggd1Njcm9sbERpZmYgPiAwICYmIGhhc0VsZW1lbnRDbGFzcyggZWxlbWVudCwgZWxDbGFzc0hpZGRlbiApICkgLy8gc2Nyb2xsZWQgdXA7IGVsZW1lbnQgc2xpZGVzIGluXG5cdFx0XHRcdHJlbW92ZUVsZW1lbnRDbGFzcyggZWxlbWVudCwgZWxDbGFzc0hpZGRlbiApO1xuXG5cdFx0XHRlbHNlIGlmKCB3U2Nyb2xsRGlmZiA8IDAgKSAvLyBzY3JvbGxlZCBkb3duXG5cdFx0XHR7XG5cdFx0XHRcdGlmKCB3U2Nyb2xsQ3VycmVudCArIHdIZWlnaHQgPj0gZEhlaWdodCAmJiBoYXNFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKSApIC8vIHNjcm9sbGVkIHRvIHRoZSB2ZXJ5IGJvdHRvbTsgZWxlbWVudCBzbGlkZXMgaW5cblx0XHRcdFx0XHRyZW1vdmVFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKTtcblxuXHRcdFx0XHRlbHNlIC8vIHNjcm9sbGVkIGRvd247IGVsZW1lbnQgc2xpZGVzIG91dFxuXHRcdFx0XHRcdGFkZEVsZW1lbnRDbGFzcyggZWxlbWVudCwgZWxDbGFzc0hpZGRlbiApO1xuXHRcdFx0fVxuXG5cdFx0XHR3U2Nyb2xsQmVmb3JlID0gd1Njcm9sbEN1cnJlbnQ7XG5cdFx0fSkpO1xuXG5cdH0oIGRvY3VtZW50LCB3aW5kb3csIDAgKSk7XG5cblxuLy8gYm9va2luZyByZXNlcnZhdGlvblxuY29uc3Qgc3VibWl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2YyJyk7XG5jb25zdCBmcm9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmcm9tXCIpO1xuY29uc3QgdG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvXCIpO1xuY29uc3QgYWR1bHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2stYWR1bHRcIik7XG5jb25zdCBjaGlsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9vay1jaGlsZFwiKTtcblxuLy8gYW1vdW50IHRvdGFsIGR1bW15IGRhdGEgdmlhIHJhbmQjXG4gIGZ1bmN0aW9uIGdldFJhbmRBbW91bnQoKSB7XG4gIGNvbnN0IG1pbiA9IDMyNSxcbiAgICAgICAgbWF4ID0gNTAwMDtcbiAgcmV0dXJuIChNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKS50b0ZpeGVkKDIpO1xuICB9XG4gIGxldCByYW5kQW1vdW50ID0gZ2V0UmFuZEFtb3VudCgpO1xuXG4vLyBib29rIG5vdyBidXR0b25cbnN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAvLyBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGZyb21WYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnJvbVwiKS52YWx1ZTtcbiAgY29uc3QgdG9WYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9cIikudmFsdWU7XG4gIGNvbnN0IGFkdWx0VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2stYWR1bHRcIikudmFsdWU7XG4gIGNvbnN0IGNoaWxkVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2stY2hpbGRcIikudmFsdWU7XG5cbiAgLy8gaGFuZGxlIGRhdGUgaW5wdXRcbiAgY29uc3QgZGF0ZUZyb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2tGcm9tRGF0ZVwiKTtcbiAgZGF0ZUZyb20uaW5uZXJIVE1MID0gYEZyb20gJHtmcm9tVmFsdWV9YDtcbiAgY29uc3QgZGF0ZVRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib29rVG9EYXRlXCIpO1xuICBkYXRlVG8uaW5uZXJIVE1MID0gYFRvICAke3RvVmFsdWV9YDtcblxuICAvLyBoYW5kbGUgZ3Vlc3QgaW5wdXRcbiAgY29uc3QgYWR1bHRHdWVzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9va0FkdWx0XCIpO1xuICBjb25zdCBjaGlsZEd1ZXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib29rQ2hpbGRcIik7XG4gIGFkdWx0VmFsdWUgPj0gXCIxXCIgPyBhZHVsdEd1ZXN0LmlubmVySFRNTD1gJHthZHVsdFZhbHVlfSBBZHVsdCBHdWVzdGA6IGd1ZXN0cy5pbm5lckhUTUw9YCR7YWR1bHRWYWx1ZX0gQWR1bHQgR3Vlc3RzYFxuICBjaGlsZFZhbHVlID09PSBcIjBcIiA/IGNoaWxkR3Vlc3QuaW5uZXJIVE1MPVwiXCIgOiAoY2hpbGRWYWx1ZSA9PT0gXCIxXCIgPyBjaGlsZEd1ZXN0LmlubmVySFRNTD1gJHtjaGlsZFZhbHVlfSBDaGlsZCBHdWVzdGAgOiBjaGlsZEd1ZXN0LmlubmVySFRNTD1gJHtjaGlsZFZhbHVlfSBDaGlsZCBHdWVzdHNgKTtcblxuICAvLyBoYW5kbGUgYW1vdW50XG4gIGNvbnN0IGFtb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9vay1hbW91bnRcIik7XG4gIGFtb3VudC5pbm5lckhUTUwgPSBgJCR7cmFuZEFtb3VudH1gO1xufSk7XG5cbi8vIG1vZGFsXG52YXIgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbmZpcm0tbW9kYWxcIik7XG52YXIgdHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJpZ2dlci1tb2RhbFwiKTtcbnZhciBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29uZmlybS1tb2RhbF9fY2xvc2VcIik7XG5cbiAgICBmdW5jdGlvbiB0b2dnbGVNb2RhbCgpIHtcbiAgICAgIG1vZGFsLmNsYXNzTGlzdC50b2dnbGUoXCJzaG93LW1vZGFsXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdpbmRvd09uQ2xpY2soZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IG1vZGFsKSB7XG4gICAgICAgICAgdG9nZ2xlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlTW9kYWwpO1xuICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlTW9kYWwpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHdpbmRvd09uQ2xpY2spO1xuXG4vLyBoYW5kbGUgcG9wdXBcbmNvbnN0IGNvbmZpcm1Qb3BVcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZmlybVBvcFVwXCIpO1xuY29uZmlybVBvcFVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcblxuICBjb25maXJtU3VibWl0KCk7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbn0sIGZhbHNlKTtcblxuZnVuY3Rpb24gY29uZmlybVN1Ym1pdCgpIHtcbiAgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15UG9wdXBcIik7XG4gIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuICB0b2dnbGVNb2RhbCgpO1xuICB9LCAzOTUwKTtcbn1cblxuXG4vLyB0b2dnbGUgcmV2aWV3IGxpa2VzXG5jb25zdCBidG5QYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYucmV2aWV3X191c2VyLWJ0bicpO1xuY29uc3QgYnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXZpZXdfX3VzZXItbGlrZScpO1xuY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXZpZXdfX3VzZXItbGlrZVwiKTtcblxuQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZXZpZXdfX3VzZXItbGlrZVwiKSwgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbmVsZW1lbnQub25jbGljayA9IHRvZ2dsZUxpa2U7XG59KTtcblxuZnVuY3Rpb24gdG9nZ2xlTGlrZSAoZWxlbWVudCkge1xuICBlbGVtZW50ID0gdGhpcztcblxuICBpZihlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImxpa2VkXCIpKXtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJsaWtlZFwiKTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJsaWtlZFwiKTtcbiAgfVxufVxuXG5sZXQgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuY29uc3Qgc2V0TWluRGF0ZUZyb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRbdHlwZT1kYXRlXSNmcm9tXCIpO1xuY29uc3Qgc2V0TWluRGF0ZVRvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9ZGF0ZV0jdG9cIik7XG5zZXRNaW5EYXRlRnJvbS5taW4gPSBgJHt0b2RheX1gO1xuc2V0TWluRGF0ZVRvLm1pbiA9IGAke3RvZGF5fWA7XG59KTtcbiJdfQ==\n"]}