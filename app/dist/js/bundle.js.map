{"version":3,"sources":["bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","console","log","$","document","ready","not","click","event","location","pathname","replace","this","hostname","target","hash","slice","preventDefault","animate","scrollTop","offset","top","$target","focus","is","attr","addEventListener","toggleModal","modal","classList","toggle","toggleLike","element","contains","remove","add","window","index","querySelector","dHeight","wHeight","wScrollCurrent","wScrollBefore","wScrollDiff","hasElementClass","className","RegExp","test","removeElementClass","split","join","delay","fn","last","deferTimer","context","args","arguments","now","Date","clearTimeout","setTimeout","apply","throttle","body","offsetHeight","innerHeight","pageYOffset","addElementClass","submit","getElementById","randAmount","Math","random","toFixed","fromValue","value","toValue","adultValue","childValue","innerHTML","adultGuest","childGuest","guests","trigger","closeButton","popup","confirmSubmit","querySelectorAll","Array","prototype","forEach","onclick","today","setMinDateFrom","setMinDateTo","min"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nconsole.log('Logging from library.js');\n\n$(document).ready(function () {\n\n  // Select all links with hashes\n  $('a[href*=\"#\"]')\n  // Remove links that don't actually link to anything\n  .not('[href=\"#\"]').not('[href=\"#0\"]').click(function (event) {\n    // On-page links\n    if (location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') && location.hostname == this.hostname) {\n      // Figure out element to scroll to\n      var target = $(this.hash);\n      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n      // Does a scroll target exist?\n      if (target.length) {\n        // Only prevent default if animation is actually gonna happen\n        event.preventDefault();\n        $('html, body').animate({\n          scrollTop: target.offset().top\n        }, 1000, function () {\n          // Callback after animation\n          // Must change focus!\n          var $target = $(target);\n          $target.focus();\n          if ($target.is(\":focus\")) {\n            // Checking if the target was focused\n            return false;\n          } else {\n            $target.attr('tabindex', '-1'); // Adding tabindex for elements not focusable\n            $target.focus(); // Set focus again\n          };\n        });\n      }\n    }\n  });\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n  // Your code to run since DOM is loaded and ready\n\n  ;(function (document, window, index) {\n    'use strict';\n\n    var elSelector = '.header',\n        elClassHidden = 'header--hidden',\n        throttleTimeout = 500,\n        element = document.querySelector(elSelector);\n\n    if (!element) return true;\n\n    var dHeight = 0,\n        wHeight = 0,\n        wScrollCurrent = 0,\n        wScrollBefore = 0,\n        wScrollDiff = 0,\n        hasElementClass = function hasElementClass(element, className) {\n      return element.classList ? element.classList.contains(className) : new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\n    },\n        addElementClass = function addElementClass(element, className) {\n      element.classList ? element.classList.add(className) : element.className += ' ' + className;\n    },\n        removeElementClass = function removeElementClass(element, className) {\n      element.classList ? element.classList.remove(className) : element.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n    },\n        throttle = function throttle(delay, fn) {\n      var last, deferTimer;\n      return function () {\n        var context = this,\n            args = arguments,\n            now = +new Date();\n        if (last && now < last + delay) {\n          clearTimeout(deferTimer);\n          deferTimer = setTimeout(function () {\n            last = now;fn.apply(context, args);\n          }, delay);\n        } else {\n          last = now;\n          fn.apply(context, args);\n        }\n      };\n    };\n\n    window.addEventListener('scroll', throttle(throttleTimeout, function () {\n      dHeight = document.body.offsetHeight;\n      wHeight = window.innerHeight;\n      wScrollCurrent = window.pageYOffset;\n      wScrollDiff = wScrollBefore - wScrollCurrent;\n\n      if (wScrollCurrent <= 0) // scrolled to the very top; element sticks to the top\n        removeElementClass(element, elClassHidden);else if (wScrollDiff > 0 && hasElementClass(element, elClassHidden)) // scrolled up; element slides in\n        removeElementClass(element, elClassHidden);else if (wScrollDiff < 0) // scrolled down\n        {\n          if (wScrollCurrent + wHeight >= dHeight && hasElementClass(element, elClassHidden)) // scrolled to the very bottom; element slides in\n            removeElementClass(element, elClassHidden);else // scrolled down; element slides out\n            addElementClass(element, elClassHidden);\n        }\n\n      wScrollBefore = wScrollCurrent;\n    }));\n  })(document, window, 0);\n\n  // booking reservation\n  var submit = document.getElementById('f2');\n  var from = document.getElementById(\"from\");\n  var to = document.getElementById(\"to\");\n  var adult = document.getElementById(\"book-adult\");\n  var child = document.getElementById(\"book-child\");\n\n  // amount total dummy data via rand#\n  function getRandAmount() {\n    var min = 325,\n        max = 5000;\n    return (Math.random() * (max - min + 1) + min).toFixed(2);\n  }\n  var randAmount = getRandAmount();\n\n  // book now button\n  submit.addEventListener(\"click\", function (e) {\n    e.preventDefault();\n    var fromValue = document.getElementById(\"from\").value;\n    var toValue = document.getElementById(\"to\").value;\n    var adultValue = document.getElementById(\"book-adult\").value;\n    var childValue = document.getElementById(\"book-child\").value;\n\n    // handle date input\n    var dateFrom = document.getElementById(\"bookFromDate\");\n    dateFrom.innerHTML = 'From ' + fromValue;\n    var dateTo = document.getElementById(\"bookToDate\");\n    dateTo.innerHTML = 'To  ' + toValue;\n\n    // handle guest input\n    var adultGuest = document.getElementById(\"bookAdult\");\n    var childGuest = document.getElementById(\"bookChild\");\n    adultValue >= \"1\" ? adultGuest.innerHTML = adultValue + ' Adult Guest' : guests.innerHTML = adultValue + ' Adult Guests';\n    childValue === \"0\" ? childGuest.innerHTML = \"\" : childValue === \"1\" ? childGuest.innerHTML = childValue + ' Child Guest' : childGuest.innerHTML = childValue + ' Child Guests';\n\n    // handle amount\n    var amount = document.getElementById(\"book-amount\");\n    amount.innerHTML = '$' + randAmount;\n  });\n\n  // modal\n  var modal = document.querySelector(\".confirm-modal\");\n  var trigger = document.querySelector(\".trigger-modal\");\n  var closeButton = document.querySelector(\".confirm-modal__close\");\n\n  function toggleModal() {\n    modal.classList.toggle(\"show-modal\");\n  }\n\n  function windowOnClick(event) {\n    if (event.target === modal) {\n      toggleModal();\n    }\n  }\n\n  trigger.addEventListener(\"click\", toggleModal);\n  closeButton.addEventListener(\"click\", toggleModal);\n  window.addEventListener(\"click\", windowOnClick);\n\n  // handle popup\n  var confirmPopUp = document.getElementById(\"confirmPopUp\");\n  confirmPopUp.addEventListener(\"click\", function (e) {\n\n    confirmSubmit();\n    e.preventDefault();\n  }, false);\n\n  function confirmSubmit() {\n    var popup = document.getElementById(\"myPopup\");\n    popup.classList.add(\"show\");\n    setTimeout(function () {\n      popup.classList.remove(\"show\");\n      toggleModal();\n    }, 3950);\n  }\n\n  // toggle review likes\n  var btnParent = document.querySelector('div.review__user-btn');\n  var btns = document.querySelectorAll('.review__user-like');\n  var btn = document.querySelector(\".review__user-like\");\n\n  Array.prototype.forEach.call(document.querySelectorAll(\".review__user-like\"), function (element) {\n    element.onclick = toggleLike;\n  });\n\n  function toggleLike(element) {\n    element = this;\n\n    if (element.classList.contains(\"liked\")) {\n      element.classList.remove(\"liked\");\n    } else {\n      element.classList.add(\"liked\");\n    }\n  }\n\n  var today = new Date();\n  var setMinDateFrom = document.querySelector(\"input[type=date]#from\");\n  var setMinDateTo = document.querySelector(\"input[type=date]#to\");\n  setMinDateFrom.min = '' + today;\n  setMinDateTo.min = '' + today;\n});\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9jb25jYXQvYnVuZGxlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxRQUFRLEdBQVIsQ0FBWSx5QkFBWjs7QUFFQSxFQUFFLFFBQUYsRUFBWSxLQUFaLENBQWtCLFlBQVU7O0FBRzVCO0FBQ0EsSUFBRSxjQUFGO0FBQ0U7QUFERixHQUVHLEdBRkgsQ0FFTyxZQUZQLEVBR0csR0FISCxDQUdPLGFBSFAsRUFJRyxLQUpILENBSVMsVUFBUyxLQUFULEVBQWdCO0FBQ3JCO0FBQ0EsUUFDRSxTQUFTLFFBQVQsQ0FBa0IsT0FBbEIsQ0FBMEIsS0FBMUIsRUFBaUMsRUFBakMsS0FBd0MsS0FBSyxRQUFMLENBQWMsT0FBZCxDQUFzQixLQUF0QixFQUE2QixFQUE3QixDQUF4QyxJQUVBLFNBQVMsUUFBVCxJQUFxQixLQUFLLFFBSDVCLEVBSUU7QUFDQTtBQUNBLFVBQUksU0FBUyxFQUFFLEtBQUssSUFBUCxDQUFiO0FBQ0EsZUFBUyxPQUFPLE1BQVAsR0FBZ0IsTUFBaEIsR0FBeUIsRUFBRSxXQUFXLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBZ0IsQ0FBaEIsQ0FBWCxHQUFnQyxHQUFsQyxDQUFsQztBQUNBO0FBQ0EsVUFBSSxPQUFPLE1BQVgsRUFBbUI7QUFDakI7QUFDQSxjQUFNLGNBQU47QUFDQSxVQUFFLFlBQUYsRUFBZ0IsT0FBaEIsQ0FBd0I7QUFDdEIscUJBQVcsT0FBTyxNQUFQLEdBQWdCO0FBREwsU0FBeEIsRUFFRyxJQUZILEVBRVMsWUFBVztBQUNsQjtBQUNBO0FBQ0EsY0FBSSxVQUFVLEVBQUUsTUFBRixDQUFkO0FBQ0Esa0JBQVEsS0FBUjtBQUNBLGNBQUksUUFBUSxFQUFSLENBQVcsUUFBWCxDQUFKLEVBQTBCO0FBQUU7QUFDMUIsbUJBQU8sS0FBUDtBQUNELFdBRkQsTUFFTztBQUNMLG9CQUFRLElBQVIsQ0FBYSxVQUFiLEVB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QUgsRUFBdUM7QUFDckMsY0FBUSxTQUFSLENBQWtCLE1BQWxCLENBQXlCLE9BQXpCO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsY0FBUSxTQUFSLENBQWtCLEdBQWxCLENBQXNCLE9BQXRCO0FBQ0Q7QUFDRjs7QUFFRCxNQUFJLFFBQVEsSUFBSSxJQUFKLEVBQVo7QUFDQSxNQUFNLGlCQUFpQixTQUFTLGFBQVQsQ0FBdUIsdUJBQXZCLENBQXZCO0FBQ0EsTUFBTSxlQUFlLFNBQVMsYUFBVCxDQUF1QixxQkFBdkIsQ0FBckI7QUFDQSxpQkFBZSxHQUFmLFFBQXdCLEtBQXhCO0FBQ0EsZUFBYSxHQUFiLFFBQXNCLEtBQXRCO0FBQ0MsQ0FuTEQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiY29uc29sZS5sb2coJ0xvZ2dpbmcgZnJvbSBsaWJyYXJ5LmpzJyk7XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG5cblxuLy8gU2VsZWN0IGFsbCBsaW5rcyB3aXRoIGhhc2hlc1xuJCgnYVtocmVmKj1cIiNcIl0nKVxuICAvLyBSZW1vdmUgbGlua3MgdGhhdCBkb24ndCBhY3R1YWxseSBsaW5rIHRvIGFueXRoaW5nXG4gIC5ub3QoJ1tocmVmPVwiI1wiXScpXG4gIC5ub3QoJ1tocmVmPVwiIzBcIl0nKVxuICAuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAvLyBPbi1wYWdlIGxpbmtzXG4gICAgaWYgKFxuICAgICAgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sICcnKSA9PSB0aGlzLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCAnJylcbiAgICAgICYmXG4gICAgICBsb2NhdGlvbi5ob3N0bmFtZSA9PSB0aGlzLmhvc3RuYW1lXG4gICAgKSB7XG4gICAgICAvLyBGaWd1cmUgb3V0IGVsZW1lbnQgdG8gc2Nyb2xsIHRvXG4gICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzLmhhc2gpO1xuICAgICAgdGFyZ2V0ID0gdGFyZ2V0Lmxlbmd0aCA/IHRhcmdldCA6ICQoJ1tuYW1lPScgKyB0aGlzLmhhc2guc2xpY2UoMSkgKyAnXScpO1xuICAgICAgLy8gRG9lcyBhIHNjcm9sbCB0YXJnZXQgZXhpc3Q/XG4gICAgICBpZiAodGFyZ2V0Lmxlbmd0aCkge1xuICAgICAgICAvLyBPbmx5IHByZXZlbnQgZGVmYXVsdCBpZiBhbmltYXRpb24gaXMgYWN0dWFsbHkgZ29ubmEgaGFwcGVuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICBzY3JvbGxUb3A6IHRhcmdldC5vZmZzZXQoKS50b3BcbiAgICAgICAgfSwgMTAwMCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gQ2FsbGJhY2sgYWZ0ZXIgYW5pbWF0aW9uXG4gICAgICAgICAgLy8gTXVzdCBjaGFuZ2UgZm9jdXMhXG4gICAgICAgICAgdmFyICR0YXJnZXQgPSAkKHRhcmdldCk7XG4gICAgICAgICAgJHRhcmdldC5mb2N1cygpO1xuICAgICAgICAgIGlmICgkdGFyZ2V0LmlzKFwiOmZvY3VzXCIpKSB7IC8vIENoZWNraW5nIGlmIHRoZSB0YXJnZXQgd2FzIGZvY3VzZWRcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHRhcmdldC5hdHRyKCd0YWJpbmRleCcsJy0xJyk7IC8vIEFkZGluZyB0YWJpbmRleCBmb3IgZWxlbWVudHMgbm90IGZvY3VzYWJsZVxuICAgICAgICAgICAgJHRhcmdldC5mb2N1cygpOyAvLyBTZXQgZm9jdXMgYWdhaW5cbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG59KTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAvLyBZb3VyIGNvZGUgdG8gcnVuIHNpbmNlIERPTSBpcyBsb2FkZWQgYW5kIHJlYWR5XG5cbiAgOyggZnVuY3Rpb24gKCBkb2N1bWVudCwgd2luZG93LCBpbmRleCApIHtcblx0XHQndXNlIHN0cmljdCc7XG5cblx0XHR2YXIgZWxTZWxlY3RvciA9ICcuaGVhZGVyJyxcblx0XHRcdGVsQ2xhc3NIaWRkZW5cdD0gJ2hlYWRlci0taGlkZGVuJyxcblx0XHRcdHRocm90dGxlVGltZW91dFx0PSA1MDAsXG5cdFx0XHRlbGVtZW50XHQ9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIGVsU2VsZWN0b3IgKTtcblxuXHRcdGlmKCAhZWxlbWVudCApIHJldHVybiB0cnVlO1xuXG5cdFx0dmFyIGRIZWlnaHRcdD0gMCxcblx0XHRcdHdIZWlnaHRcdD0gMCxcblx0XHRcdHdTY3JvbGxDdXJyZW50ID0gMCxcblx0XHRcdHdTY3JvbGxCZWZvcmVcdD0gMCxcblx0XHRcdHdTY3JvbGxEaWZmXHQ9IDAsXG5cbmhhc0VsZW1lbnRDbGFzc1x0XHQ9IGZ1bmN0aW9uKCBlbGVtZW50LCBjbGFzc05hbWUgKXtcbiAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdCA/IGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCBjbGFzc05hbWUgKSA6IG5ldyBSZWdFeHAoICcoXnwgKScgKyBjbGFzc05hbWUgKyAnKCB8JCknLCAnZ2knICkudGVzdCggZWxlbWVudC5jbGFzc05hbWUgKTtcbn0sXG5cbmFkZEVsZW1lbnRDbGFzc1x0XHQ9IGZ1bmN0aW9uKCBlbGVtZW50LCBjbGFzc05hbWUgKXtcbiAgIGVsZW1lbnQuY2xhc3NMaXN0ID8gZWxlbWVudC5jbGFzc0xpc3QuYWRkKCBjbGFzc05hbWUgKSA6IGVsZW1lbnQuY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcbn0sXG5cbnJlbW92ZUVsZW1lbnRDbGFzc1x0PSBmdW5jdGlvbiggZWxlbWVudCwgY2xhc3NOYW1lICl7XG4gICBlbGVtZW50LmNsYXNzTGlzdCA/IGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggY2xhc3NOYW1lICkgOiBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoIG5ldyBSZWdFeHAoICcoXnxcXFxcYiknICsgY2xhc3NOYW1lLnNwbGl0KCAnICcgKS5qb2luKCAnfCcgKSArICcoXFxcXGJ8JCknLCAnZ2knICksICcgJyApO1xufSxcblxuXHRcdFx0dGhyb3R0bGUgPSBmdW5jdGlvbiggZGVsYXksIGZuIClcblx0XHRcdHtcblx0XHRcdFx0dmFyIGxhc3QsIGRlZmVyVGltZXI7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbigpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR2YXIgY29udGV4dCA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHMsIG5vdyA9ICtuZXcgRGF0ZTtcblx0XHRcdFx0XHRpZiggbGFzdCAmJiBub3cgPCBsYXN0ICsgZGVsYXkgKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCggZGVmZXJUaW1lciApO1xuXHRcdFx0XHRcdFx0ZGVmZXJUaW1lciA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7IGxhc3QgPSBub3c7IGZuLmFwcGx5KCBjb250ZXh0LCBhcmdzICk7IH0sIGRlbGF5ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRsYXN0ID0gbm93O1xuXHRcdFx0XHRcdFx0Zm4uYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdzY3JvbGwnLCB0aHJvdHRsZSggdGhyb3R0bGVUaW1lb3V0LCBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0ZEhlaWdodFx0XHRcdD0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7XG5cdFx0XHR3SGVpZ2h0XHRcdFx0PSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cdFx0XHR3U2Nyb2xsQ3VycmVudFx0PSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cdFx0XHR3U2Nyb2xsRGlmZlx0XHQ9IHdTY3JvbGxCZWZvcmUgLSB3U2Nyb2xsQ3VycmVudDtcblxuXHRcdFx0aWYoIHdTY3JvbGxDdXJyZW50IDw9IDAgKSAvLyBzY3JvbGxlZCB0byB0aGUgdmVyeSB0b3A7IGVsZW1lbnQgc3RpY2tzIHRvIHRoZSB0b3Bcblx0XHRcdFx0cmVtb3ZlRWxlbWVudENsYXNzKCBlbGVtZW50LCBlbENsYXNzSGlkZGVuICk7XG5cblx0XHRcdGVsc2UgaWYoIHdTY3JvbGxEaWZmID4gMCAmJiBoYXNFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKSApIC8vIHNjcm9sbGVkIHVwOyBlbGVtZW50IHNsaWRlcyBpblxuXHRcdFx0XHRyZW1vdmVFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKTtcblxuXHRcdFx0ZWxzZSBpZiggd1Njcm9sbERpZmYgPCAwICkgLy8gc2Nyb2xsZWQgZG93blxuXHRcdFx0e1xuXHRcdFx0XHRpZiggd1Njcm9sbEN1cnJlbnQgKyB3SGVpZ2h0ID49IGRIZWlnaHQgJiYgaGFzRWxlbWVudENsYXNzKCBlbGVtZW50LCBlbENsYXNzSGlkZGVuICkgKSAvLyBzY3JvbGxlZCB0byB0aGUgdmVyeSBib3R0b207IGVsZW1lbnQgc2xpZGVzIGluXG5cdFx0XHRcdFx0cmVtb3ZlRWxlbWVudENsYXNzKCBlbGVtZW50LCBlbENsYXNzSGlkZGVuICk7XG5cblx0XHRcdFx0ZWxzZSAvLyBzY3JvbGxlZCBkb3duOyBlbGVtZW50IHNsaWRlcyBvdXRcblx0XHRcdFx0XHRhZGRFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKTtcblx0XHRcdH1cblxuXHRcdFx0d1Njcm9sbEJlZm9yZSA9IHdTY3JvbGxDdXJyZW50O1xuXHRcdH0pKTtcblxuXHR9KCBkb2N1bWVudCwgd2luZG93LCAwICkpO1xuXG5cbi8vIGJvb2tpbmcgcmVzZXJ2YXRpb25cbmNvbnN0IHN1Ym1pdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmMicpO1xuY29uc3QgZnJvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnJvbVwiKTtcbmNvbnN0IHRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b1wiKTtcbmNvbnN0IGFkdWx0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib29rLWFkdWx0XCIpO1xuY29uc3QgY2hpbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2stY2hpbGRcIik7XG5cbi8vIGFtb3VudCB0b3RhbCBkdW1teSBkYXRhIHZpYSByYW5kI1xuICBmdW5jdGlvbiBnZXRSYW5kQW1vdW50KCkge1xuICBjb25zdCBtaW4gPSAzMjUsXG4gICAgICAgIG1heCA9IDUwMDA7XG4gIHJldHVybiAoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbikudG9GaXhlZCgyKTtcbiAgfVxuICBsZXQgcmFuZEFtb3VudCA9IGdldFJhbmRBbW91bnQoKTtcblxuLy8gYm9vayBub3cgYnV0dG9uXG5zdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBmcm9tVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZyb21cIikudmFsdWU7XG4gIGNvbnN0IHRvVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvXCIpLnZhbHVlO1xuICBjb25zdCBhZHVsdFZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib29rLWFkdWx0XCIpLnZhbHVlO1xuICBjb25zdCBjaGlsZFZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib29rLWNoaWxkXCIpLnZhbHVlO1xuXG4gIC8vIGhhbmRsZSBkYXRlIGlucHV0XG4gIGNvbnN0IGRhdGVGcm9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib29rRnJvbURhdGVcIik7XG4gIGRhdGVGcm9tLmlubmVySFRNTCA9IGBGcm9tICR7ZnJvbVZhbHVlfWA7XG4gIGNvbnN0IGRhdGVUbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9va1RvRGF0ZVwiKTtcbiAgZGF0ZVRvLmlubmVySFRNTCA9IGBUbyAgJHt0b1ZhbHVlfWA7XG5cbiAgLy8gaGFuZGxlIGd1ZXN0IGlucHV0XG4gIGNvbnN0IGFkdWx0R3Vlc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2tBZHVsdFwiKTtcbiAgY29uc3QgY2hpbGRHdWVzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9va0NoaWxkXCIpO1xuICBhZHVsdFZhbHVlID49IFwiMVwiID8gYWR1bHRHdWVzdC5pbm5lckhUTUw9YCR7YWR1bHRWYWx1ZX0gQWR1bHQgR3Vlc3RgOiBndWVzdHMuaW5uZXJIVE1MPWAke2FkdWx0VmFsdWV9IEFkdWx0IEd1ZXN0c2BcbiAgY2hpbGRWYWx1ZSA9PT0gXCIwXCIgPyBjaGlsZEd1ZXN0LmlubmVySFRNTD1cIlwiIDogKGNoaWxkVmFsdWUgPT09IFwiMVwiID8gY2hpbGRHdWVzdC5pbm5lckhUTUw9YCR7Y2hpbGRWYWx1ZX0gQ2hpbGQgR3Vlc3RgIDogY2hpbGRHdWVzdC5pbm5lckhUTUw9YCR7Y2hpbGRWYWx1ZX0gQ2hpbGQgR3Vlc3RzYCk7XG5cbiAgLy8gaGFuZGxlIGFtb3VudFxuICBjb25zdCBhbW91bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2stYW1vdW50XCIpO1xuICBhbW91bnQuaW5uZXJIVE1MID0gYCQke3JhbmRBbW91bnR9YDtcbn0pO1xuXG4vLyBtb2RhbFxudmFyIG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb25maXJtLW1vZGFsXCIpO1xudmFyIHRyaWdnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRyaWdnZXItbW9kYWxcIik7XG52YXIgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbmZpcm0tbW9kYWxfX2Nsb3NlXCIpO1xuXG4gICAgZnVuY3Rpb24gdG9nZ2xlTW9kYWwoKSB7XG4gICAgICBtb2RhbC5jbGFzc0xpc3QudG9nZ2xlKFwic2hvdy1tb2RhbFwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3aW5kb3dPbkNsaWNrKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBtb2RhbCkge1xuICAgICAgICAgIHRvZ2dsZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfVxuXG4gIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZU1vZGFsKTtcbiAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZU1vZGFsKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB3aW5kb3dPbkNsaWNrKTtcblxuLy8gaGFuZGxlIHBvcHVwXG5jb25zdCBjb25maXJtUG9wVXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmZpcm1Qb3BVcFwiKTtcbmNvbmZpcm1Qb3BVcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSl7XG5cbiAgY29uZmlybVN1Ym1pdCgpO1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG59LCBmYWxzZSk7XG5cbmZ1bmN0aW9uIGNvbmZpcm1TdWJtaXQoKSB7XG4gIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteVBvcHVwXCIpO1xuICBwb3B1cC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcbiAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgdG9nZ2xlTW9kYWwoKTtcbiAgfSwgMzk1MCk7XG59XG5cblxuLy8gdG9nZ2xlIHJldmlldyBsaWtlc1xuY29uc3QgYnRuUGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnJldmlld19fdXNlci1idG4nKTtcbmNvbnN0IGJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmV2aWV3X191c2VyLWxpa2UnKTtcbmNvbnN0IGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmV2aWV3X191c2VyLWxpa2VcIik7XG5cbkFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmV2aWV3X191c2VyLWxpa2VcIiksIGZ1bmN0aW9uIChlbGVtZW50KSB7XG5lbGVtZW50Lm9uY2xpY2sgPSB0b2dnbGVMaWtlO1xufSk7XG5cbmZ1bmN0aW9uIHRvZ2dsZUxpa2UgKGVsZW1lbnQpIHtcbiAgZWxlbWVudCA9IHRoaXM7XG5cbiAgaWYoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJsaWtlZFwiKSl7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibGlrZWRcIik7XG4gIH0gZWxzZSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibGlrZWRcIik7XG4gIH1cbn1cblxubGV0IHRvZGF5ID0gbmV3IERhdGUoKTtcbmNvbnN0IHNldE1pbkRhdGVGcm9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9ZGF0ZV0jZnJvbVwiKTtcbmNvbnN0IHNldE1pbkRhdGVUbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFt0eXBlPWRhdGVdI3RvXCIpO1xuc2V0TWluRGF0ZUZyb20ubWluID0gYCR7dG9kYXl9YDtcbnNldE1pbkRhdGVUby5taW4gPSBgJHt0b2RheX1gO1xufSk7XG4iXX0=\n"]}