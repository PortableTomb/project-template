{"version":3,"sources":["bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","toggleModal","modal","classList","toggle","toggleLike","element","this","contains","remove","add","console","log","$","document","ready","not","click","event","location","pathname","replace","hostname","target","hash","slice","preventDefault","animate","scrollTop","offset","top","$target","focus","is","attr","window","index","querySelector","dHeight","wHeight","wScrollCurrent","wScrollBefore","wScrollDiff","hasElementClass","className","RegExp","test","removeElementClass","split","join","addEventListener","delay","fn","last","deferTimer","context","args","arguments","now","Date","clearTimeout","setTimeout","apply","throttle","body","offsetHeight","innerHeight","pageYOffset","addElementClass","submit","getElementById","randAmount","Math","random","toFixed","fromValue","value","toValue","adultValue","childValue","innerHTML","adultGuest","childGuest","guests","trigger","closeButton","popup","confirmSubmit","querySelectorAll","Array","prototype","forEach","onclick"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nconsole.log('Logging from library.js');\n\n$(document).ready(function () {\n\n  // Select all links with hashes\n  $('a[href*=\"#\"]')\n  // Remove links that don't actually link to anything\n  .not('[href=\"#\"]').not('[href=\"#0\"]').click(function (event) {\n    // On-page links\n    if (location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') && location.hostname == this.hostname) {\n      // Figure out element to scroll to\n      var target = $(this.hash);\n      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n      // Does a scroll target exist?\n      if (target.length) {\n        // Only prevent default if animation is actually gonna happen\n        event.preventDefault();\n        $('html, body').animate({\n          scrollTop: target.offset().top\n        }, 1000, function () {\n          // Callback after animation\n          // Must change focus!\n          var $target = $(target);\n          $target.focus();\n          if ($target.is(\":focus\")) {\n            // Checking if the target was focused\n            return false;\n          } else {\n            $target.attr('tabindex', '-1'); // Adding tabindex for elements not focusable\n            $target.focus(); // Set focus again\n          };\n        });\n      }\n    }\n  });\n});\n\nconsole.log('Logging from Test1.js');\n\nvar a = 1;\nconsole.log(a);\n\n;(function (document, window, index) {\n  'use strict';\n\n  var elSelector = '.header',\n      elClassHidden = 'header--hidden',\n      throttleTimeout = 500,\n      element = document.querySelector(elSelector);\n\n  if (!element) return true;\n\n  var dHeight = 0,\n      wHeight = 0,\n      wScrollCurrent = 0,\n      wScrollBefore = 0,\n      wScrollDiff = 0,\n      hasElementClass = function hasElementClass(element, className) {\n    return element.classList ? element.classList.contains(className) : new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\n  },\n      addElementClass = function addElementClass(element, className) {\n    element.classList ? element.classList.add(className) : element.className += ' ' + className;\n  },\n      removeElementClass = function removeElementClass(element, className) {\n    element.classList ? element.classList.remove(className) : element.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n  },\n      throttle = function throttle(delay, fn) {\n    var last, deferTimer;\n    return function () {\n      var context = this,\n          args = arguments,\n          now = +new Date();\n      if (last && now < last + delay) {\n        clearTimeout(deferTimer);\n        deferTimer = setTimeout(function () {\n          last = now;fn.apply(context, args);\n        }, delay);\n      } else {\n        last = now;\n        fn.apply(context, args);\n      }\n    };\n  };\n\n  window.addEventListener('scroll', throttle(throttleTimeout, function () {\n    dHeight = document.body.offsetHeight;\n    wHeight = window.innerHeight;\n    wScrollCurrent = window.pageYOffset;\n    wScrollDiff = wScrollBefore - wScrollCurrent;\n\n    if (wScrollCurrent <= 0) // scrolled to the very top; element sticks to the top\n      removeElementClass(element, elClassHidden);else if (wScrollDiff > 0 && hasElementClass(element, elClassHidden)) // scrolled up; element slides in\n      removeElementClass(element, elClassHidden);else if (wScrollDiff < 0) // scrolled down\n      {\n        if (wScrollCurrent + wHeight >= dHeight && hasElementClass(element, elClassHidden)) // scrolled to the very bottom; element slides in\n          removeElementClass(element, elClassHidden);else // scrolled down; element slides out\n          addElementClass(element, elClassHidden);\n      }\n\n    wScrollBefore = wScrollCurrent;\n  }));\n})(document, window, 0);\n\n// booking reservation\nvar submit = document.getElementById('f2');\nvar from = document.getElementById(\"from\");\nvar to = document.getElementById(\"to\");\nvar adult = document.getElementById(\"book-adult\");\nvar child = document.getElementById(\"book-child\");\n\n// amount total dummy data via rand#\nfunction getRandAmount() {\n  var min = 325,\n      max = 5000;\n  return (Math.random() * (max - min + 1) + min).toFixed(2);\n}\nvar randAmount = getRandAmount();\n\n// book now button\nsubmit.addEventListener(\"click\", function (e) {\n  e.preventDefault();\n  var fromValue = document.getElementById(\"from\").value;\n  var toValue = document.getElementById(\"to\").value;\n  var adultValue = document.getElementById(\"book-adult\").value;\n  var childValue = document.getElementById(\"book-child\").value;\n\n  // handle date input\n  var dateFrom = document.getElementById(\"bookFromDate\");\n  dateFrom.innerHTML = 'From ' + fromValue;\n  var dateTo = document.getElementById(\"bookToDate\");\n  dateTo.innerHTML = 'To  ' + toValue;\n\n  // handle guest input\n  var adultGuest = document.getElementById(\"bookAdult\");\n  var childGuest = document.getElementById(\"bookChild\");\n  adultValue >= \"1\" ? adultGuest.innerHTML = adultValue + ' Adult Guest' : guests.innerHTML = adultValue + ' Adult Guests';\n  childValue === \"0\" ? childGuest.innerHTML = \"\" : childValue === \"1\" ? childGuest.innerHTML = childValue + ' Child Guest' : childGuest.innerHTML = childValue + ' Child Guests';\n\n  // handle amount\n  var amount = document.getElementById(\"book-amount\");\n  amount.innerHTML = '$' + randAmount;\n});\n\n// modal\nvar modal = document.querySelector(\".confirm-modal\");\nvar trigger = document.querySelector(\".trigger-modal\");\nvar closeButton = document.querySelector(\".confirm-modal__close\");\n\nfunction toggleModal() {\n  modal.classList.toggle(\"show-modal\");\n}\n\nfunction windowOnClick(event) {\n  if (event.target === modal) {\n    toggleModal();\n  }\n}\n\ntrigger.addEventListener(\"click\", toggleModal);\ncloseButton.addEventListener(\"click\", toggleModal);\nwindow.addEventListener(\"click\", windowOnClick);\n\n// handle popup\nvar confirmPopUp = document.getElementById(\"confirmPopUp\");\nconfirmPopUp.addEventListener(\"click\", function (e) {\n\n  confirmSubmit();\n  e.preventDefault();\n}, false);\n\nfunction confirmSubmit() {\n  var popup = document.getElementById(\"myPopup\");\n  popup.classList.add(\"show\");\n  setTimeout(function () {\n    popup.classList.remove(\"show\");\n    toggleModal();\n  }, 3950);\n}\n\n// toggle review likes\nvar btnParent = document.querySelector('div.review__user-btn');\nvar btns = document.querySelectorAll('.review__user-like');\nvar btn = document.querySelector(\".review__user-like\");\n\nArray.prototype.forEach.call(document.querySelectorAll(\".review__user-like\"), function (element) {\n  element.onclick = toggleLike;\n});\n\nfunction toggleLike(element) {\n  element = this;\n\n  if (element.classList.contains(\"liked\")) {\n    element.classList.remove(\"liked\");\n  } else {\n    element.classList.add(\"liked\");\n  }\n}\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9jb25jYXQvYnVuZGxlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxRQUFRLEdBQVIsQ0FBWSx5QkFBWjs7QUFFQSxFQUFFLFFBQUYsRUFBWSxLQUFaLENBQWtCLFlBQVU7O0FBRzVCO0FBQ0EsSUFBRSxjQUFGO0FBQ0U7QUFERixHQUVHLEdBRkgsQ0FFTyxZQUZQLEVBR0csR0FISCxDQUdPLGFBSFAsRUFJRyxLQUpILENBSVMsVUFBUyxLQUFULEVBQWdCO0FBQ3JCO0FBQ0EsUUFDRSxTQUFTLFFBQVQsQ0FBa0IsT0FBbEIsQ0FBMEIsS0FBMUIsRUFBaUMsRUFBakMsS0FBd0MsS0FBSyxRQUFMLENBQWMsT0FBZCxDQUFzQixLQUF0QixFQUE2QixFQUE3QixDQUF4QyxJQUVBLFNBQVMsUUFBVCxJQUFxQixLQUFLLFFBSDVCLEVBSUU7QUFDQTtBQUNBLFVBQUksU0FBUyxFQUFFLEtBQUssSUFBUCxDQUFiO0FBQ0EsZUFBUyxPQUFPLE1BQVAsR0FBZ0IsTUFBaEIsR0FBeUIsRUFBRSxXQUFXLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBZ0IsQ0FBaEIsQ0FBWCxHQUFnQyxHQUFsQyxDQUFsQztBQUNBO0FBQ0EsVUFBSSxPQUFPLE1BQVgsRUFBbUI7QUFDakI7QUFDQSxjQUFNLGNBQU47QUFDQSxVQUFFLFlBQUYsRUFBZ0IsT0FBaEIsQ0FBd0I7QUFDdEIscUJBQVcsT0FBTyxNQUFQLEdBQWdCO0FBREwsU0FBeEIsRUFFRyxJQUZILEVBRVMsWUFBVztBQUNsQjtBQUNBO0FBQ0EsY0FBSSxVQUFVLEVBQUUsTUFBRixDQUFkO0FBQ0Esa0JBQVEsS0FBUjtBQUNBLGNBQUksUUFBUSxFQUFSLENBQVcsUUFBWCxDQUFKLEVBQTBCO0FBQUU7QUFDMUIsbUJBQU8sS0FBUDtBQUNELFdBRkQsTUFFTztBQUNMLG9CQUFRLElBQVIsQ0FBYSxVQUFiLEVB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QTJCLE9BQTNCLENBQUgsRUFBdUM7QUFDckMsWUFBUSxTQUFSLENBQWtCLE1BQWxCLENBQXlCLE9BQXpCO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsWUFBUSxTQUFSLENBQWtCLEdBQWxCLENBQXNCLE9BQXRCO0FBQ0Q7QUFDRiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjb25zb2xlLmxvZygnTG9nZ2luZyBmcm9tIGxpYnJhcnkuanMnKTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblxuXG4vLyBTZWxlY3QgYWxsIGxpbmtzIHdpdGggaGFzaGVzXG4kKCdhW2hyZWYqPVwiI1wiXScpXG4gIC8vIFJlbW92ZSBsaW5rcyB0aGF0IGRvbid0IGFjdHVhbGx5IGxpbmsgdG8gYW55dGhpbmdcbiAgLm5vdCgnW2hyZWY9XCIjXCJdJylcbiAgLm5vdCgnW2hyZWY9XCIjMFwiXScpXG4gIC5jbGljayhmdW5jdGlvbihldmVudCkge1xuICAgIC8vIE9uLXBhZ2UgbGlua3NcbiAgICBpZiAoXG4gICAgICBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgJycpID09IHRoaXMucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sICcnKVxuICAgICAgJiZcbiAgICAgIGxvY2F0aW9uLmhvc3RuYW1lID09IHRoaXMuaG9zdG5hbWVcbiAgICApIHtcbiAgICAgIC8vIEZpZ3VyZSBvdXQgZWxlbWVudCB0byBzY3JvbGwgdG9cbiAgICAgIHZhciB0YXJnZXQgPSAkKHRoaXMuaGFzaCk7XG4gICAgICB0YXJnZXQgPSB0YXJnZXQubGVuZ3RoID8gdGFyZ2V0IDogJCgnW25hbWU9JyArIHRoaXMuaGFzaC5zbGljZSgxKSArICddJyk7XG4gICAgICAvLyBEb2VzIGEgc2Nyb2xsIHRhcmdldCBleGlzdD9cbiAgICAgIGlmICh0YXJnZXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIE9ubHkgcHJldmVudCBkZWZhdWx0IGlmIGFuaW1hdGlvbiBpcyBhY3R1YWxseSBnb25uYSBoYXBwZW5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0Lm9mZnNldCgpLnRvcFxuICAgICAgICB9LCAxMDAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBDYWxsYmFjayBhZnRlciBhbmltYXRpb25cbiAgICAgICAgICAvLyBNdXN0IGNoYW5nZSBmb2N1cyFcbiAgICAgICAgICB2YXIgJHRhcmdldCA9ICQodGFyZ2V0KTtcbiAgICAgICAgICAkdGFyZ2V0LmZvY3VzKCk7XG4gICAgICAgICAgaWYgKCR0YXJnZXQuaXMoXCI6Zm9jdXNcIikpIHsgLy8gQ2hlY2tpbmcgaWYgdGhlIHRhcmdldCB3YXMgZm9jdXNlZFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdGFyZ2V0LmF0dHIoJ3RhYmluZGV4JywnLTEnKTsgLy8gQWRkaW5nIHRhYmluZGV4IGZvciBlbGVtZW50cyBub3QgZm9jdXNhYmxlXG4gICAgICAgICAgICAkdGFyZ2V0LmZvY3VzKCk7IC8vIFNldCBmb2N1cyBhZ2FpblxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbn0pO1xuXG5jb25zb2xlLmxvZygnTG9nZ2luZyBmcm9tIFRlc3QxLmpzJyk7XG5cbmNvbnN0IGEgPSAxO1xuY29uc29sZS5sb2coYSk7XG5cblxuXHQ7KCBmdW5jdGlvbiAoIGRvY3VtZW50LCB3aW5kb3csIGluZGV4ICkge1xuXHRcdCd1c2Ugc3RyaWN0JztcblxuXHRcdHZhciBlbFNlbGVjdG9yID0gJy5oZWFkZXInLFxuXHRcdFx0ZWxDbGFzc0hpZGRlblx0PSAnaGVhZGVyLS1oaWRkZW4nLFxuXHRcdFx0dGhyb3R0bGVUaW1lb3V0XHQ9IDUwMCxcblx0XHRcdGVsZW1lbnRcdD0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggZWxTZWxlY3RvciApO1xuXG5cdFx0aWYoICFlbGVtZW50ICkgcmV0dXJuIHRydWU7XG5cblx0XHR2YXIgZEhlaWdodFx0PSAwLFxuXHRcdFx0d0hlaWdodFx0PSAwLFxuXHRcdFx0d1Njcm9sbEN1cnJlbnQgPSAwLFxuXHRcdFx0d1Njcm9sbEJlZm9yZVx0PSAwLFxuXHRcdFx0d1Njcm9sbERpZmZcdD0gMCxcblxuaGFzRWxlbWVudENsYXNzXHRcdD0gZnVuY3Rpb24oIGVsZW1lbnQsIGNsYXNzTmFtZSApe1xuICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0ID8gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoIGNsYXNzTmFtZSApIDogbmV3IFJlZ0V4cCggJyhefCApJyArIGNsYXNzTmFtZSArICcoIHwkKScsICdnaScgKS50ZXN0KCBlbGVtZW50LmNsYXNzTmFtZSApO1xufSxcblxuYWRkRWxlbWVudENsYXNzXHRcdD0gZnVuY3Rpb24oIGVsZW1lbnQsIGNsYXNzTmFtZSApe1xuICAgZWxlbWVudC5jbGFzc0xpc3QgPyBlbGVtZW50LmNsYXNzTGlzdC5hZGQoIGNsYXNzTmFtZSApIDogZWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xufSxcblxucmVtb3ZlRWxlbWVudENsYXNzXHQ9IGZ1bmN0aW9uKCBlbGVtZW50LCBjbGFzc05hbWUgKXtcbiAgIGVsZW1lbnQuY2xhc3NMaXN0ID8gZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCBjbGFzc05hbWUgKSA6IGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSggbmV3IFJlZ0V4cCggJyhefFxcXFxiKScgKyBjbGFzc05hbWUuc3BsaXQoICcgJyApLmpvaW4oICd8JyApICsgJyhcXFxcYnwkKScsICdnaScgKSwgJyAnICk7XG59LFxuXG5cdFx0XHR0aHJvdHRsZSA9IGZ1bmN0aW9uKCBkZWxheSwgZm4gKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgbGFzdCwgZGVmZXJUaW1lcjtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHZhciBjb250ZXh0ID0gdGhpcywgYXJncyA9IGFyZ3VtZW50cywgbm93ID0gK25ldyBEYXRlO1xuXHRcdFx0XHRcdGlmKCBsYXN0ICYmIG5vdyA8IGxhc3QgKyBkZWxheSApXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KCBkZWZlclRpbWVyICk7XG5cdFx0XHRcdFx0XHRkZWZlclRpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXsgbGFzdCA9IG5vdzsgZm4uYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTsgfSwgZGVsYXkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGxhc3QgPSBub3c7XG5cdFx0XHRcdFx0XHRmbi5hcHBseSggY29udGV4dCwgYXJncyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIHRocm90dGxlKCB0aHJvdHRsZVRpbWVvdXQsIGZ1bmN0aW9uKClcblx0XHR7XG5cdFx0XHRkSGVpZ2h0XHRcdFx0PSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcblx0XHRcdHdIZWlnaHRcdFx0XHQ9IHdpbmRvdy5pbm5lckhlaWdodDtcblx0XHRcdHdTY3JvbGxDdXJyZW50XHQ9IHdpbmRvdy5wYWdlWU9mZnNldDtcblx0XHRcdHdTY3JvbGxEaWZmXHRcdD0gd1Njcm9sbEJlZm9yZSAtIHdTY3JvbGxDdXJyZW50O1xuXG5cdFx0XHRpZiggd1Njcm9sbEN1cnJlbnQgPD0gMCApIC8vIHNjcm9sbGVkIHRvIHRoZSB2ZXJ5IHRvcDsgZWxlbWVudCBzdGlja3MgdG8gdGhlIHRvcFxuXHRcdFx0XHRyZW1vdmVFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKTtcblxuXHRcdFx0ZWxzZSBpZiggd1Njcm9sbERpZmYgPiAwICYmIGhhc0VsZW1lbnRDbGFzcyggZWxlbWVudCwgZWxDbGFzc0hpZGRlbiApICkgLy8gc2Nyb2xsZWQgdXA7IGVsZW1lbnQgc2xpZGVzIGluXG5cdFx0XHRcdHJlbW92ZUVsZW1lbnRDbGFzcyggZWxlbWVudCwgZWxDbGFzc0hpZGRlbiApO1xuXG5cdFx0XHRlbHNlIGlmKCB3U2Nyb2xsRGlmZiA8IDAgKSAvLyBzY3JvbGxlZCBkb3duXG5cdFx0XHR7XG5cdFx0XHRcdGlmKCB3U2Nyb2xsQ3VycmVudCArIHdIZWlnaHQgPj0gZEhlaWdodCAmJiBoYXNFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKSApIC8vIHNjcm9sbGVkIHRvIHRoZSB2ZXJ5IGJvdHRvbTsgZWxlbWVudCBzbGlkZXMgaW5cblx0XHRcdFx0XHRyZW1vdmVFbGVtZW50Q2xhc3MoIGVsZW1lbnQsIGVsQ2xhc3NIaWRkZW4gKTtcblxuXHRcdFx0XHRlbHNlIC8vIHNjcm9sbGVkIGRvd247IGVsZW1lbnQgc2xpZGVzIG91dFxuXHRcdFx0XHRcdGFkZEVsZW1lbnRDbGFzcyggZWxlbWVudCwgZWxDbGFzc0hpZGRlbiApO1xuXHRcdFx0fVxuXG5cdFx0XHR3U2Nyb2xsQmVmb3JlID0gd1Njcm9sbEN1cnJlbnQ7XG5cdFx0fSkpO1xuXG5cdH0oIGRvY3VtZW50LCB3aW5kb3csIDAgKSk7XG5cblxuLy8gYm9va2luZyByZXNlcnZhdGlvblxuY29uc3Qgc3VibWl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2YyJyk7XG5jb25zdCBmcm9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmcm9tXCIpO1xuY29uc3QgdG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvXCIpO1xuY29uc3QgYWR1bHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2stYWR1bHRcIik7XG5jb25zdCBjaGlsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9vay1jaGlsZFwiKTtcblxuLy8gYW1vdW50IHRvdGFsIGR1bW15IGRhdGEgdmlhIHJhbmQjXG4gIGZ1bmN0aW9uIGdldFJhbmRBbW91bnQoKSB7XG4gIGNvbnN0IG1pbiA9IDMyNSxcbiAgICAgICAgbWF4ID0gNTAwMDtcbiAgcmV0dXJuIChNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKS50b0ZpeGVkKDIpO1xuICB9XG4gIGxldCByYW5kQW1vdW50ID0gZ2V0UmFuZEFtb3VudCgpO1xuXG4vLyBib29rIG5vdyBidXR0b25cbnN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGZyb21WYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnJvbVwiKS52YWx1ZTtcbiAgY29uc3QgdG9WYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9cIikudmFsdWU7XG4gIGNvbnN0IGFkdWx0VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2stYWR1bHRcIikudmFsdWU7XG4gIGNvbnN0IGNoaWxkVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2stY2hpbGRcIikudmFsdWU7XG5cbiAgLy8gaGFuZGxlIGRhdGUgaW5wdXRcbiAgY29uc3QgZGF0ZUZyb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2tGcm9tRGF0ZVwiKTtcbiAgZGF0ZUZyb20uaW5uZXJIVE1MID0gYEZyb20gJHtmcm9tVmFsdWV9YDtcbiAgY29uc3QgZGF0ZVRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib29rVG9EYXRlXCIpO1xuICBkYXRlVG8uaW5uZXJIVE1MID0gYFRvICAke3RvVmFsdWV9YDtcblxuICAvLyBoYW5kbGUgZ3Vlc3QgaW5wdXRcbiAgY29uc3QgYWR1bHRHdWVzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9va0FkdWx0XCIpO1xuICBjb25zdCBjaGlsZEd1ZXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib29rQ2hpbGRcIik7XG4gIGFkdWx0VmFsdWUgPj0gXCIxXCIgPyBhZHVsdEd1ZXN0LmlubmVySFRNTD1gJHthZHVsdFZhbHVlfSBBZHVsdCBHdWVzdGA6IGd1ZXN0cy5pbm5lckhUTUw9YCR7YWR1bHRWYWx1ZX0gQWR1bHQgR3Vlc3RzYFxuICBjaGlsZFZhbHVlID09PSBcIjBcIiA/IGNoaWxkR3Vlc3QuaW5uZXJIVE1MPVwiXCIgOiAoY2hpbGRWYWx1ZSA9PT0gXCIxXCIgPyBjaGlsZEd1ZXN0LmlubmVySFRNTD1gJHtjaGlsZFZhbHVlfSBDaGlsZCBHdWVzdGAgOiBjaGlsZEd1ZXN0LmlubmVySFRNTD1gJHtjaGlsZFZhbHVlfSBDaGlsZCBHdWVzdHNgKTtcblxuICAvLyBoYW5kbGUgYW1vdW50XG4gIGNvbnN0IGFtb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9vay1hbW91bnRcIik7XG4gIGFtb3VudC5pbm5lckhUTUwgPSBgJCR7cmFuZEFtb3VudH1gO1xufSk7XG5cbi8vIG1vZGFsXG52YXIgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbmZpcm0tbW9kYWxcIik7XG52YXIgdHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJpZ2dlci1tb2RhbFwiKTtcbnZhciBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29uZmlybS1tb2RhbF9fY2xvc2VcIik7XG5cbiAgICBmdW5jdGlvbiB0b2dnbGVNb2RhbCgpIHtcbiAgICAgIG1vZGFsLmNsYXNzTGlzdC50b2dnbGUoXCJzaG93LW1vZGFsXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdpbmRvd09uQ2xpY2soZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IG1vZGFsKSB7XG4gICAgICAgICAgdG9nZ2xlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlTW9kYWwpO1xuICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlTW9kYWwpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHdpbmRvd09uQ2xpY2spO1xuXG4vLyBoYW5kbGUgcG9wdXBcbmNvbnN0IGNvbmZpcm1Qb3BVcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZmlybVBvcFVwXCIpO1xuY29uZmlybVBvcFVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcblxuICBjb25maXJtU3VibWl0KCk7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbn0sIGZhbHNlKTtcblxuZnVuY3Rpb24gY29uZmlybVN1Ym1pdCgpIHtcbiAgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15UG9wdXBcIik7XG4gIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuICB0b2dnbGVNb2RhbCgpO1xuICB9LCAzOTUwKTtcbn1cblxuLy8gdG9nZ2xlIHJldmlldyBsaWtlc1xuY29uc3QgYnRuUGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnJldmlld19fdXNlci1idG4nKTtcbmNvbnN0IGJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmV2aWV3X191c2VyLWxpa2UnKTtcbmNvbnN0IGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmV2aWV3X191c2VyLWxpa2VcIik7XG5cbkFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmV2aWV3X191c2VyLWxpa2VcIiksIGZ1bmN0aW9uIChlbGVtZW50KSB7XG5lbGVtZW50Lm9uY2xpY2sgPSB0b2dnbGVMaWtlO1xufSk7XG5cbmZ1bmN0aW9uIHRvZ2dsZUxpa2UgKGVsZW1lbnQpIHtcbiAgZWxlbWVudCA9IHRoaXM7XG5cbiAgaWYoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJsaWtlZFwiKSl7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibGlrZWRcIik7XG4gIH0gZWxzZSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibGlrZWRcIik7XG4gIH1cbn1cbiJdfQ==\n"]}